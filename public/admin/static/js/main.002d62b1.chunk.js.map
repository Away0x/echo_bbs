{"version":3,"sources":["../delegated 170 from dll-reference main_library","../delegated 84 from dll-reference main_library","../delegated 425 from dll-reference main_library","../delegated 230 from dll-reference main_library","constants/env.ts","constants/app.ts","config/index.ts","components/PageSuspense/index.tsx","components/SideBar/index.tsx","layouts/BaseLayout/Breadcrumbs.tsx","layouts/BaseLayout/index.tsx","routes/index.tsx","components/ErrorBoundary/index.tsx","App.tsx","storage/base.ts","storage/token.ts","auth/token.ts","main.tsx","../external \"main_library\"","../delegated 427 from dll-reference main_library","../delegated 83 from dll-reference main_library","../delegated 228 from dll-reference main_library"],"names":["module","exports","__webpack_require__","ENV","APP_ROOT_ID","MAIN_CONFIG","window","console","error","API_ROOT","URL_ROOT","LOCALSTROAGE_PREFIX","TOKEN_KEY","Cookies","getCookie","log","PATCH_CALLBACK","apiConfigArr","otherConfigArr","every","i","createSuspense","defaultDelay","defaultLoading","reactfrom_dll_reference_main_library_default","a","createElement","className","SubMenu","SideBar","menu_default","defaultSelectedKeys","defaultOpenKeys","mode","theme","Item","key","icon_default","type","title","Breadcrumbs","breadcrumb_default","style","margin","Header","Content","Sider","routes","name","path","component","lib","from","to","props","PageSuspense","Object","assign","load","Promise","all","e","then","bind","meta","hanName","_ref","routerView","_useState","useState","_useState2","slicedToArray","collapsed","setCollapsed","onCollapse","useCallback","c","layout_default","collapsible","trigger","minHeight","components_SideBar","background","padding","onClick","BaseLayout_Breadcrumbs","children","default","awRouter","AWRouter","instance","notFoundRouteName","middlewares","state","document","filter","Boolean","join","params","renderRootRoute","ErrorBoundary","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","hasError","errorInfo","setState","_this$props","ErrorComponent","React","Component","App","components_ErrorBoundary","AWStorageFactory","_ref$enableLog","enableLog","_ref$disabled","disabled","_ref$prefix","prefix","_ref$session","session","_ref$hasMeta","hasMeta","_ref$expire","expire","NO_VALIDATE_EXPIRE","_ref$checkExpire","checkExpire","AWStorage","TokenStorage","storage","tokenStore","createStorage","_instance","token","cookie","set","setString","tokenFromLocal","get","getString","remove","__TokenStorage__","clean","config","beforeCallback","afterCallback","triggerGlobalCallback","logoutCallback","reloadPage","location","href","render","ReactDOM","src_App","getElementById","onerror","event","source","fileno","columnNumber","error_data","getElementsByTagName","innerText","error_event","script_url","line_number","column_number","error_detail","message","error_stack","stack","user_agent","navigator","userAgent","location_href","Token","event_string","String","indexOf","message_default","warning","FastClick","attach","body","addEventListener","ev","val","newValue","localStorage","clear","sessionStorage","process","DEVELOPMENT","main_library"],"mappings":"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","file":"static/js/main.002d62b1.chunk.js","sourcesContent":["module.exports = (__webpack_require__(22))(170);","module.exports = (__webpack_require__(22))(84);","module.exports = (__webpack_require__(22))(425);","module.exports = (__webpack_require__(22))(230);","/** 环境 */\nexport enum ENV {\n  DEVELOPMENT = 'development',\n  PRODUCTION = 'production',\n}\n","/** react 挂载的 dom root id */\nexport const APP_ROOT_ID = 'root';\n","import { ENV } from '@/constants';\n\nconst W: any = window;\nconst MAIN_CONFIG: { [key: string]: any } = W.MAIN_CONFIG;\nif (!MAIN_CONFIG) { console.error('配置文件 MAIN_CONFIG.js 不存在，请检查!'); }\n\n// ---------------------------- 开发环境判断 ----------------------------\n/** 是否为 development 环境 */\nexport function isDev() {\n  return process.env.NODE_ENV === ENV.DEVELOPMENT;\n}\n\n// ---------------------------- 项目配置相关 ----------------------------\n/** PUBLIC_URL */\nexport const PUBLIC_URL = process.env.PUBLIC_URL;\n\n// ---------------------------- 接口根地址 ----------------------------\nexport const API_ROOT: string = MAIN_CONFIG.API_ROOT;\nexport const URL_ROOT: string = MAIN_CONFIG.URL_ROOT;\n\n// ---------------------------- key ----------------------------\nexport const LOCALSTROAGE_PREFIX: string= MAIN_CONFIG.LOCALSTROAGE_PREFIX; // localstroage prefix\nexport const TOKEN_KEY: string = MAIN_CONFIG.TOKEN_KEY; // token key\n\n// ---------------------------- cookie ----------------------------\nconst Cookies: AW.CookiesType = (window as any).Cookies;\nexport function getCookie() {\n  if (!Cookies) {\n    console.log('js-cookie.js 未加载');\n    return null;\n  }\n  return Cookies;\n}\n\n// ---------------------------- cache config ----------------------------\nexport const DISABLED_EXPIRE = 666666; // 不设置缓存\n\n// ---------------------------- 其他 ----------------------------\n// 补丁函数\nexport const PATCH_CALLBACK: (params: any) => void | null = MAIN_CONFIG.PATCH_CALLBACK || null;\nexport const PATCH_CALLBACK_ROUTE_MIDDLEWARE = (params: any) => {\n  if (PATCH_CALLBACK) {\n    PATCH_CALLBACK(params);\n  }\n  return null;\n}\n\n// ---------------------------- 必有配置的加载检查 ----------------------------\nconst apiConfigArr = [API_ROOT];\nconst otherConfigArr = [LOCALSTROAGE_PREFIX, TOKEN_KEY];\nif (!apiConfigArr.every((i) => !!i)) {\n  console.error('【MAIN_CONFIG】 API PREFIX 加载错误，请检查配置文件', apiConfigArr);\n}\nif (!otherConfigArr.every((i) => !!i)) {\n  console.error('【MAIN_CONFIG】 OTHER CONFIG 加载错误，请检查配置文件', otherConfigArr);\n}\n","import React from 'react';\nimport { createSuspense } from 'aw-react-router';\n\nexport default createSuspense({\n  defaultDelay: 0,\n  defaultLoading: <div className=\"common_page_placeholder\">loading ... ...</div>\n});\n","import React from 'react';\nimport { Menu, Icon } from 'antd';\nconst { SubMenu } = Menu;\n\nconst SideBar: React.FC = () => {\n\n  return (\n    <div className=\"component_sidebar\">\n      <Menu\n        defaultSelectedKeys={['1']}\n        defaultOpenKeys={['sub1']}\n        mode=\"inline\"\n        theme=\"dark\">\n        <Menu.Item key=\"1\">\n          <Icon type=\"pie-chart\" />\n          <span>Option 1</span>\n        </Menu.Item>\n        <Menu.Item key=\"2\">\n          <Icon type=\"desktop\" />\n          <span>Option 2</span>\n        </Menu.Item>\n        <Menu.Item key=\"3\">\n          <Icon type=\"inbox\" />\n          <span>Option 3</span>\n        </Menu.Item>\n        <SubMenu\n          key=\"sub1\"\n          title={\n            <span>\n              <Icon type=\"mail\" />\n              <span>Navigation One</span>\n            </span>\n          }\n        >\n          <Menu.Item key=\"5\">Option 5</Menu.Item>\n          <Menu.Item key=\"6\">Option 6</Menu.Item>\n          <Menu.Item key=\"7\">Option 7</Menu.Item>\n          <Menu.Item key=\"8\">Option 8</Menu.Item>\n        </SubMenu>\n        <SubMenu\n          key=\"sub2\"\n          title={\n            <span>\n              <Icon type=\"appstore\" />\n              <span>Navigation Two</span>\n            </span>\n          }\n        >\n          <Menu.Item key=\"9\">Option 9</Menu.Item>\n          <Menu.Item key=\"10\">Option 10</Menu.Item>\n          <SubMenu key=\"sub3\" title=\"Submenu\">\n            <Menu.Item key=\"11\">Option 11</Menu.Item>\n            <Menu.Item key=\"12\">Option 12</Menu.Item>\n          </SubMenu>\n        </SubMenu>\n      </Menu>\n    </div>\n  );\n};\n\nexport default SideBar;\n","import React from 'react';\nimport { Breadcrumb } from 'antd';\n\nconst Breadcrumbs: React.FC = () => {\n  return (\n    <Breadcrumb style={{ margin: '16px 0' }}>\n      <Breadcrumb.Item>User</Breadcrumb.Item>\n      <Breadcrumb.Item>Bill</Breadcrumb.Item>\n    </Breadcrumb>\n  );\n};\n\nexport default Breadcrumbs;\n","import React, { useState, useCallback } from 'react';\nimport { LayoutProps } from 'aw-react-router';\nimport { Layout, Icon } from 'antd';\n\nimport './index.less';\nimport SideBar from '@/components/SideBar';\nimport Breadcrumbs from './Breadcrumbs';\n\nconst { Header, Content, Sider } = Layout;\n\nconst BaseLayout: React.FC<LayoutProps> = ({ routerView }) => {\n  const [collapsed, setCollapsed] = useState(false);\n\n  const onCollapse = useCallback(() => {\n    setCollapsed((c) => !c);\n  }, [collapsed]);\n\n  return (\n    <Layout className=\"layout_base\">\n      <Sider collapsible collapsed={collapsed} trigger={null} style={{minHeight: '100vh'}}>\n        <SideBar />\n      </Sider>\n      <Layout>\n        <Header style={{ background: '#fff', padding: 0 }}>\n          <Icon className=\"trigger\" type={collapsed ? 'menu-unfold' : 'menu-fold'} onClick={onCollapse} />\n        </Header>\n        <Content>\n          <Breadcrumbs />\n          {\n            routerView()\n          }\n        </Content>\n      </Layout>\n    </Layout>\n  );\n};\n\nexport default BaseLayout;\n","import React from 'react';\nimport AWRouter, { AWRouteConfig, Redirect } from 'aw-react-router';\n\nimport PageSuspense from '@/components/PageSuspense';\nimport BaseLayout from '@/layouts/BaseLayout';\nimport { PATCH_CALLBACK_ROUTE_MIDDLEWARE } from '@/config';\n// import { loginRequiredMiddleware, guestMiddleware, authCheckMiddleware } from '@/routes/middleware/auth';\n\nconst routes: AWRouteConfig<AW.RouteMeta>[] = [\n  {\n    name: 'root',\n    path: '/',\n    component: () => <Redirect from=\"/\" to=\"/home\" />,\n  },\n  {\n    name: 'login',\n    path: '/login',\n    component: (props) => <PageSuspense {...props} load={import(/* webpackChunkName: 'login' */ '@/pages/Login')} />,\n    meta: {\n      title: '登录',\n      hanName: '登录',\n    },\n  },\n  {\n    name: 'home',\n    path: '/home',\n    component: BaseLayout,\n    children: [\n      {\n        default: true,\n        name: 'dashboard',\n        path: '/dashboard',\n        component: (props) => <PageSuspense {...props} load={import(/* webpackChunkName: 'dashboard' */ '@/pages/Dashboard')} />,\n      },\n    ],\n  },\n\n  {\n    name: '404',\n    path: '/404',\n    component: (props) => <PageSuspense {...props} load={import(/* webpackChunkName: 'notfound' */ '@/pages/Errors/NotFound')} />,\n    meta: {\n      title: '404',\n      hanName: '页面未找到',\n    },\n  },\n  {\n    name: 'unauthorized',\n    path: '/unauthorized',\n    component: (props) => <PageSuspense {...props} load={import(/* webpackChunkName: 'unauthorized' */ '@/pages/Errors/Unauthorized')} />,\n    meta: {\n      title: 'unauthorized',\n      hanName: '无权限访问',\n    },\n  },\n];\n\n\n// 加载路由配置\nexport const awRouter = AWRouter.instance<AW.RouteMeta>();\nawRouter.load(routes, {\n  mode: 'hash',          // mode\n  notFoundRouteName: '404', // not found route name\n  // 全局路由中间件\n  middlewares: [\n    (state) => {\n      const meta = state.meta || {};\n      document.title = meta.title ? meta.title : ['管理员后台', meta.hanName].filter(Boolean).join('-');\n      return null;\n    },\n    PATCH_CALLBACK_ROUTE_MIDDLEWARE,                           // 暴露在 MAIN_CONFIG 中用于调试或打补丁的中间件\n    // loginRequiredMiddleware(['404', 'unauthorized', 'login']), // 这些路由不需验证是否登录\n    // guestMiddleware(['login']),                                // 只能未登录才可访问\n    // authCheckMiddleware(),                                     // 权限判断 (根据各路由配置的 meta.auth 进行判断)\n  ],\n});\n\nexport default awRouter.renderRootRoute();\n","// 错误边界\r\nimport React, { ErrorInfo, ComponentType } from 'react';\r\n\r\ninterface Props {\r\n  ErrorComponent?: ComponentType\r\n}\r\n\r\ninterface States {\r\n  hasError: boolean\r\n}\r\n\r\nclass ErrorBoundary extends React.Component<Props, States> {\r\n\r\n  state = {\r\n    hasError: false,\r\n  }\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: any) {\r\n    console.error(\"ErrorBoundary: \", error);\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    console.error(\"ErrorBoundary: \", {\r\n      error, errorInfo\r\n    });\r\n    this.setState({\r\n      hasError: true,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { children, ErrorComponent } = this.props;\r\n\r\n    if (this.state.hasError) {\r\n      if (ErrorComponent) {\r\n        return <ErrorComponent />\r\n      }\r\n      return <h1>Something went wrong.</h1>;\r\n    }\r\n    \r\n\r\n    return children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;","import React from 'react';\n\nimport routes from \"@/routes\";\nimport ErrorBoundary from '@/components/ErrorBoundary';\n\n\nconst App: React.FC = () => {\n  return (\n    <ErrorBoundary>\n      {\n        routes\n      }\n    </ErrorBoundary>\n  );\n}\n\nexport default App;\n","import AWStorage, { AWStorageConstructorOptions, NO_VALIDATE_EXPIRE } from 'aw-easy-storage';\nimport { LOCALSTROAGE_PREFIX, DISABLED_EXPIRE } from '@/config';\n\nconst AWStorageFactory = ({\n  enableLog = false,\n  disabled = false,\n  prefix = LOCALSTROAGE_PREFIX,\n  session = false,\n  hasMeta = true,\n  expire = NO_VALIDATE_EXPIRE,\n  // 当 expire 设置为 DISABLED_EXPIRE，则相当于永远都是过期的 (禁用缓存)\n  checkExpire = (e) => e === DISABLED_EXPIRE,\n}: Partial<AWStorageConstructorOptions>) => {\n  return new AWStorage({\n    enableLog,\n    disabled,\n    session,\n    prefix,\n    hasMeta,\n    expire,\n    checkExpire,\n  });\n};\n\nexport default AWStorageFactory;\n","/** token */\nimport AWStorage from 'aw-easy-storage';\nimport createStorage from '@/storage/base';\nimport { TOKEN_KEY, getCookie } from '@/config';\n\n// 浏览器退出时清除 token\nclass TokenStorage {\n\n  private static _instance: TokenStorage | null = null;\n  private storage: AWStorage;\n\n  public static instance(): TokenStorage {\n    if (this._instance === null) {\n      this._instance = new this();\n    }\n\n    return this._instance!;\n  }\n\n  constructor() {\n    this.storage = createStorage({\n      hasMeta: false,\n      session: true,\n      prefix: '',\n    });\n  }\n\n  public readonly key = TOKEN_KEY;\n  private tokenStore: null | string = null; // 内存缓存\n\n  public set(token: string) {\n    const cookie = getCookie();\n\n    if (cookie) {\n      cookie.set(this.key, token);\n    }\n    this.storage.setString(this.key, token);\n\n    this.tokenStore = token;\n  }\n\n  /** 取值优先级 (内存 > cookie > sessionStorage) */\n  public get(): string {\n    if (this.tokenStore) {\n      return this.tokenStore;\n    }\n    const cookie = getCookie();\n\n    // cookie 有则读 cookie，否则读 sessionStorage，然后同步到 cookie\n    let tokenFromLocal = '';\n    if (cookie) { tokenFromLocal = cookie.get(this.key); }\n    if (!tokenFromLocal) {\n      tokenFromLocal = this.storage.getString(this.key) || '';\n      if (cookie) { cookie.set(this.key, tokenFromLocal); }\n    }\n\n    this.tokenStore = tokenFromLocal;\n    return this.tokenStore || '';\n  }\n\n  public clean() {\n    const cookie = getCookie();\n\n    if (cookie) { cookie.remove(this.key); }\n\n    this.storage.remove(this.key);\n    this.tokenStore = null;\n  }\n\n}\n\nexport default TokenStorage.instance();\n\n(window as any).__TokenStorage__ = TokenStorage.instance();\n","// 登出、获取用户 token 操作\nimport { URL_ROOT } from '@/config';\nimport TokenStorage from '@/storage/token';\n\ninterface LogoutConfig {\n  beforeCallback?: (token: string) => Promise<boolean> // 当前退出行为前的 callback\n  afterCallback?: () => Promise<boolean>               //当前退出行为后的 callback\n  triggerGlobalCallback?: boolean                      // 触发全局的 logout callback\n  reloadPage?: boolean                                 // 是否要刷新页面\n}\n\nexport default class {\n\n  public static readonly key = TokenStorage.key;\n  // main.ts 中挂载的回调 (将不方便在这个类中做的事情放到 main.ts 中去做)\n  public static logoutCallback: null | (() => void) = null;\n\n  public static set(token: string) {\n    TokenStorage.set(token);\n  }\n\n  public static get(): string {\n    return TokenStorage.get();\n  }\n\n  public static isLogin(): boolean {\n    return !!this.get();\n  }\n\n  public static clean() {\n    TokenStorage.clean();\n  }\n\n  /**\n   * 登出操作\n   */\n  public static async logout(config: LogoutConfig) {\n    if (config.beforeCallback) {\n      const status = await config.beforeCallback(this.get());\n      if (!status) {\n        return;\n      }\n    }\n\n    this.clean();\n\n    if (config.afterCallback) {\n      const status = await config.afterCallback();\n      if (!status) {\n        return;\n      }\n    }\n\n    // 触发全局的 callback\n    if (config.triggerGlobalCallback && this.logoutCallback) {\n      await this.logoutCallback();\n    }\n\n    if (config.reloadPage) {\n      window.location.href = URL_ROOT;\n    }\n  }\n\n}\n","// ---------------------------------------- css ----------------------------------------\nimport '@/assets/styles/index.less';\n\n// ---------------------------------------- main ----------------------------------------\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport FastClick from 'fastclick';\nimport { message as messageAlert } from 'antd';\n\n// ---------------------------------------- 其他 ----------------------------------------\nimport { APP_ROOT_ID } from '@/constants';\nimport { isDev } from \"@/config\";\nimport App from '@/App';\nimport Token from '@/auth/token';\n\n// ---------------------------------------- 错误处理 ----------------------------------------\nwindow.onerror = (event: Event | string, source?: string, fileno?: number, columnNumber?: number, error?: Error) => {\n  const error_data = {\n    title: document.getElementsByTagName('title')[0].innerText,\n    error_event: event,\n    script_url: source,\n    line_number: fileno,\n    column_number: columnNumber,\n    error_detail: (error && error.message) || '',\n    error_stack: (error && error.stack) || '',\n    user_agent: window.navigator.userAgent,\n    location_href: window.location.href,\n    token: Token.get(),\n  };\n  const event_string = String(error_data.error_event || '');\n\n  if (event_string === 'ResizeObserver loop limit exceeded') { return; }\n\n  const SCRIPT_ERROR = 'Unexpected token <'; // 脚本错误 (一般是服务器中的前端代码更新了，浏览器缓存中的 js 代码由于不一致而报错)\n  const CHUNK_ERROR = 'chunk';\n\n  if (event_string.indexOf(SCRIPT_ERROR) !== -1 || event_string.indexOf(CHUNK_ERROR) !== -1) {\n    messageAlert.warning('发现新版本，请使用刷新网页');\n  }\n};\n\n// ---------------------------------------- 挂载 ----------------------------------------\n(FastClick as any).attach(document.body);\n\n// ---------------------------------------- token ----------------------------------------\nwindow.addEventListener('storage', (ev: StorageEvent) => {\n  const key = ev.key;\n  const val = ev.newValue;\n\n  if (key === Token.key && val === null) { Token.clean(); }\n});\n\n// logout 时的 callback\nToken.logoutCallback = () => {\n  window.localStorage.clear();\n  window.sessionStorage.clear();\n}\n\n// ======================================= RENDER =======================================\nfunction createApp() {\n  return (\n    <App />\n  );\n}\n\nfunction render() {\n  ReactDOM.render(\n    createApp(),\n    document.getElementById(APP_ROOT_ID),\n  );\n}\n\nif (isDev()) {\n  // DEVELOPMENT\n  const devRender = () => {\n    if ((module as any).hot) {\n      (module as any).hot.accept('./App', () => render());\n    }\n\n    render();\n  }\n\n  try {\n    devRender();\n  } catch (error) {\n    console.error(error);\n    render();\n  }\n} else {\n  // PRODUCTION\n  render();\n}\n","module.exports = main_library;","module.exports = (__webpack_require__(22))(427);","module.exports = (__webpack_require__(22))(83);","module.exports = (__webpack_require__(22))(228);"],"sourceRoot":""}