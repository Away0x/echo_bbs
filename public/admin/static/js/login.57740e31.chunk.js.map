{"version":3,"sources":["pages/Login/index.tsx"],"names":["WrappedLoginForm","antd_lib_form__WEBPACK_IMPORTED_MODULE_3___default","a","create","name","withRouter","_ref","form","history","loginAction","AuthStore","useStore","react__WEBPACK_IMPORTED_MODULE_10___default","createElement","className","layout","onSubmit","e","preventDefault","validateFields","_ref2","Object","E_playground_goPlayground_echo_shop_fe_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__","E_playground_goPlayground_echo_shop_fe_admin_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_6___default","mark","_callee","err","values","_ref3","status","message","homeRoute","wrap","_context","prev","next","abrupt","sent","antd_lib_message__WEBPACK_IMPORTED_MODULE_8___default","error","AWRouter","instance","find","push","fullPath","stop","_x","_x2","apply","this","arguments","Item","getFieldDecorator","rules","required","antd_lib_input__WEBPACK_IMPORTED_MODULE_5___default","placeholder","type","antd_lib_button__WEBPACK_IMPORTED_MODULE_1___default","htmlType","LoginPage"],"mappings":"6SA8DMA,EAAmBC,EAAAC,EAAKC,OAAO,CAAEC,KAAM,SAApBH,CAA+BI,qBA/CQ,SAAAC,GAAuB,IAApBC,EAAoBD,EAApBC,KAAMC,EAAcF,EAAdE,QAC/DC,EAAgBC,IAAUC,WAA1BF,YAkBR,OACEG,EAAAV,EAAAW,cAAAZ,EAAAC,EAAA,CAAMY,UAAU,aAAaC,OAAO,WAAWC,SAjB5B,SAACC,GACpBA,EAAEC,iBAEFX,EAAKY,eAAL,eAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,EAAArB,EAAAsB,KAAoB,SAAAC,EAAOC,EAAKC,GAAZ,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAR,EAAArB,EAAA8B,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,WACdT,EADc,CAAAO,EAAAE,KAAA,eAAAF,EAAAG,OAAA,wBAAAH,EAAAE,KAAA,EAEc1B,EAAYkB,EAAM,SAAcA,EAAM,UAFpD,UAAAC,EAAAK,EAAAI,KAEXR,EAFWD,EAEXC,OAAQC,EAFGF,EAEHE,QACVD,EAHa,CAAAI,EAAAE,KAAA,gBAIhBG,EAAApC,EAAaqC,MAAMT,GAAW,4BAJdG,EAAAG,OAAA,kBAQZL,EAAYS,IAASC,WAAWC,KAAK,QAC3ClC,EAAQmC,KAAKZ,EAAYA,EAAUa,SAAW,KAT5B,yBAAAX,EAAAY,SAAApB,MAApB,gBAAAqB,EAAAC,GAAA,OAAA3B,EAAA4B,MAAAC,KAAAC,YAAA,MAeEtC,EAAAV,EAAAW,cAAA,MAAIC,UAAU,SAAd,uBACAF,EAAAV,EAAAW,cAAA,OAAKC,UAAU,aACbF,EAAAV,EAAAW,cAAAZ,EAAAC,EAAMiD,KAAN,CAAWrC,UAAU,aAClBP,EAAK6C,kBAAkB,WAAY,CAClCC,MAAO,CAAC,CAAEC,UAAU,EAAMxB,QAAS,4DADpCvB,CAGCK,EAAAV,EAAAW,cAAA0C,EAAArD,EAAA,CAAOsD,YAAY,eAGvB5C,EAAAV,EAAAW,cAAAZ,EAAAC,EAAMiD,KAAN,CAAWrC,UAAU,aAClBP,EAAK6C,kBAAkB,WAAY,CAClCC,MAAO,CAAC,CAAEC,UAAU,EAAMxB,QAAS,oCADpCvB,CAGCK,EAAAV,EAAAW,cAAA0C,EAAArD,EAAA,CAAOuD,KAAK,WAAWD,YAAY,eAGvC5C,EAAAV,EAAAW,cAAAZ,EAAAC,EAAMiD,KAAN,CAAWrC,UAAU,aACnBF,EAAAV,EAAAW,cAAA6C,EAAAxD,EAAA,CAAQuD,KAAK,UAAUE,SAAS,SAAS7C,UAAU,eAAnD,uBAmBK8C,UARO,WACpB,OACEhD,EAAAV,EAAAW,cAAA,OAAKC,UAAU,cACbF,EAAAV,EAAAW,cAACb,EAAD","file":"static/js/login.57740e31.chunk.js","sourcesContent":["import React, { FC, FormEvent } from 'react';\nimport {\n  Form,\n  Input,\n  Button,\n  message as messageAlert,\n} from 'antd';\nimport { FormComponentProps } from 'antd/lib/form';\n\nimport './index.less';\n\nimport AWRouter, { withRouter, RouteComponentProps } from 'aw-react-router';\nimport AuthStore from '@/store/auth';\n\n\nconst LoginForm: FC<FormComponentProps & RouteComponentProps> = ({ form, history }) => {\n  const { loginAction } = AuthStore.useStore();\n\n  const handleSubmit = (e: FormEvent) => {\n    e.preventDefault();\n\n    form.validateFields(async (err, values) => {\n      if (err) { return; }\n      const {status, message} = await loginAction(values['username'], values['password']);\n      if (!status) {\n        messageAlert.error(message || '登录失败');\n        return;\n      }\n\n      const homeRoute = AWRouter.instance().find('home');\n      history.push(homeRoute ? homeRoute.fullPath : '/');\n    });\n  };\n\n  return (\n    <Form className=\"login-form\" layout=\"vertical\" onSubmit={handleSubmit}>\n      <h3 className=\"title\">XXXXXX 平台</h3>\n      <div className=\"form-body\">\n        <Form.Item className=\"form-item\">\n          {form.getFieldDecorator('username', {\n            rules: [{ required: true, message: '请输入正确的用户名' }],\n          })(\n            <Input placeholder=\"Username\" />,\n          )}\n        </Form.Item>\n        <Form.Item className=\"form-item\">\n          {form.getFieldDecorator('password', {\n            rules: [{ required: true, message: '请输入密码' }],\n          })(\n            <Input type=\"password\" placeholder=\"Password\" />,\n          )}\n        </Form.Item>\n        <Form.Item className=\"form-item\">\n          <Button type=\"primary\" htmlType=\"submit\" className=\"form-button\">\n            登 录\n        </Button>\n        </Form.Item>\n      </div>\n    </Form>\n  );\n};\n\nconst WrappedLoginForm = Form.create({ name: 'login' })(withRouter(LoginForm));\n\nconst LoginPage: FC = () => {\n  return (\n    <div className=\"login-page\">\n      <WrappedLoginForm />\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"sourceRoot":""}