{"version":3,"sources":["../delegated 170 from dll-reference main_library","../delegated 83 from dll-reference main_library","tools/aw/aw-store/with.tsx","tools/aw/aw-store/store.tsx","../delegated 230 from dll-reference main_library","../delegated 228 from dll-reference main_library","assets/images/default_teacher_avatar.png","layouts/Base/hooks.ts","tools/hoc/ts-enhance.ts","tools/hoc/index.ts","../delegated 84 from dll-reference main_library","assets/styles/index.less","../delegated 425 from dll-reference main_library","storage/token.ts","auth/token.ts","config/index.ts","layouts/Base/index.less","components/MyHeader/MenuItem.less","components/MyHeader/UserAvatar.less","components/MyHeader/index.less","components/MyFooter/index.less","routes/suspense.tsx","tools/index.ts","components/MyHeader/MenuItem.tsx","components/MyHeader/UserAvatar.tsx","components/MyHeader/index.tsx","components/MyFooter/index.tsx","layouts/Base/Breadcrumbs.tsx","layouts/Base/index.tsx","auth/map.ts","auth/page.ts","routes/pages/classroom.tsx","routes/pages/coach.tsx","routes/pages/exam.tsx","routes/pages/guide.tsx","routes/pages/questions.tsx","routes/pages/resource.tsx","routes/pages/statistics.tsx","routes/pages/textbook.tsx","routes/pages/wizard.tsx","routes/pages/work.tsx","routes/pages/wrong.tsx","routes/pages/settings.tsx","routes/routes.tsx","routes/middleware/auth.tsx","routes/index.tsx","components/ErrorBoundary/index.tsx","tools/hooks/async.ts","App.tsx","main.tsx","tools/aw/aw-store/index.tsx","tools/instance.ts","constants/app.ts","constants/pages.ts","constants/user.ts","constants/index.ts","../external \"main_library\"","auth/authority.ts","store/base-layout/index.ts","tools/aw/aw-storage/index.ts","storage/base.ts","services/type.ts","services/code.ts","services/base.ts","services/user/index.ts","storage/term.ts","storage/role.ts","store/auth/index.ts","../delegated 427 from dll-reference main_library","assets/images/logo.png"],"names":["withStoreConsumer","Component","store","WrappedComponent","props","s","useStore","displayName","name","withStoreMapConsumer","storeMap","sm","k","hasOwnProperty","withStoreProviders","stores","length","components","forEach","c","push","Provider","createTree","index","children","isLastNode","Com","rest","createStore","useHook","Context","React","createContext","value","useContext","Error","useBreadcrumbs","initBreadcrumbs","BaseLayoutStore","setBreadcrumbs","breadcrumbs","setBreadcrumbsAction","routeName","useEffect","state","NAV_MAX_LEN","useNavs","navs","moreNavs","defaultName","subNav","routeInfos","AWRouter","instance","findMap","PAGE_NAMES","map","t","r","info","meta","strict","isUndefined","authUnstrict","Authority","checkAll","auth","route","withDefaultProps","defaultProps","Cmp","TokenStorage","_instance","storage","key","TOKEN_KEY","tokenStore","createStorage","hasMeta","session","prefix","token","cookie","getCookie","set","setString","tokenFromLocal","get","getString","remove","window","__TokenStorage__","clean","config","beforeCallback","status","afterCallback","triggerGlobalCallback","logoutCallback","reloadPage","location","href","pushByName","replace","W","MAIN_CONFIG","console","error","ENV_DEVELOPMENT","isDev","process","PUBLIC_URL","API_ROOT","AUTH_API_ROOT","WORK_API_ROOT","QUESTION_API_ROOT","COACH_API_ROOT","OFFICE_API_ROOT","GUIDE_API_ROOT","RESOURCE_API_ROOT","DICTIONARY_API_ROOT","ADMIN_URL","RECORDING_PLATFORM","EWEBEDITOR_URL","EWEBEDITOR_STYLE","EWEBEDITOR_SKIN","create_ewebeditor_src","editor_key","LOCALSTROAGE_PREFIX","Cookies","log","DISABLED_EXPIRE","WK_STORAGE_EXPIRE","DISABLED_CHAPTER_TREE_CACHE","DISABLED_KNOW_TREE_CACHE","PATCH_CALLBACK","PATCH_CALLBACK_ROUTE_MIDDLEWARE","params","apiConfigArr","otherConfigArr","every","i","createSuspense","defaultDelay","defaultLoading","safeGet","targetObj","keyString","defaultValue","path","String","split","result","reduce","preObj","curPath","menus","nav","subNavs","n","fullPath","hanName","MenuItem","active","classnames","filter","Boolean","join","hasSubNav","UserAvatar","AuthStore","user","settingsPath","getPathByName","logoutAction","defaultAvatar","canGoRoot","isActiveNav","currentRoute","getCurrentState","topNavName","MyHeader","gotoRootPage","logoImg","cursor","width","year","Date","getFullYear","MyFooter","Breadcrumbs","defaultHandler","useCallback","b","handler","memo","BaseLayout","routerView","auth_guide","auth_guide__gbt_guide_book_add","auth_guide__gbt_guide_book_del","auth_guide__gbt_guide_book_move","auth_guide__gbt_guide_book_share","auth_guide__gbt_resource_download","auth_guide__gbt_examination","auth_statistics","auth_coach","auth_coach__ct_coach_add","auth_coach__ct_coach_del","auth_coach__ct_WK_import","auth_coach__ct_questionbank_selection","auth_coach__ct_question_export","auth_coach__ct_read_explanation","auth_coach__ct_analyze_answer","auth_coach__ct_mistakecollection_add","auth_coach__ct_coach_rmv","auth_coach__ct_coach_download","auth_coach__ct_thumb_up","auth_coach__ct_knowledge_associate","auth_homework","auth_homework__ht_homework_arrange","auth_homework__ht_homework_del","auth_homework__ht_otherclass_publish","auth_homework__ht_mistakecollection_add","auth_homework__ht_homework_copy","auth_homework__ht_homework_download","auth_homework__ht_homework_answer","auth_homework__ht_homework_share","auth_homework__ht_homework_attachment","auth_homework__ht_answer_temporary_save","auth_homework__ht_explanation_seek","auth_mistakecollection","auth_resource","auth_resource__rt_resource_upload","auth_resource__rt_resource_del","auth_resource__rt_use_to_guide_book","auth_resource__rt_publish_to_school","auth_resource__rt_resource_download","auth_resource_school","auth_resource_school__rst_resource_upload","auth_resource_school__rst_resource_del","auth_resource_school__rst_use_to_guide_book","auth_resource_school__rst_resource_download","auth_resource_public","auth_resource_public__rct_resource_download","auth_resource_public__rct_use_to_guide_book","auth_questionbank","auth_questionbank__qt_question_add","auth_questionbank__qt_question_batch_import","auth_questionbank__qt_question_del","auth_questionbank__qt_question_basket","auth_questionbank__qt_question_edit","auth_questionbank__qt_analyze_answer","auth_questionbank__qt_explanation_read_and_record","auth_questionbank__qt_add_to_school_questionbank","auth_questionbank_school","auth_questionbank_school__qst_question_add","auth_questionbank_school__qst_question_batch_import","auth_questionbank_school__qst_question_del","auth_questionbank_school__qst_question_basket","auth_questionbank_school__qst_question_edit","auth_questionbank_school__qst_analyze_answer","auth_questionbank_school__qst_explanation_read","auth_questionbank_school__qst_explanation_record","auth_questionbank_public","auth_questionbank_public__qct_question_basket","auth_questionbank_public__qct_analyze_answer","auth_intelligent_classroom","auth_intelligent_classroom__classroom_report","auth_textbook","auth_textbook__tt_personal_textbook","auth_textbook__tt_school_textbook","auth_usercenter__class_setting","auth_user_guidance","auth_exam","auth_record_play","CLASSROOM_AUTH","MAP","COACH_AUTH","EXAM_AUTH","GUIDE_AUTH","QUESTIONS_AUTH","RESOURCE_AUTH","STATISTICS_AUTH","TEXTBOOK_AUTH","WIZARD_AUTH","WORK_AUTH","WRONG_AUTH","TOP_NAV_NAME","routes","component","title","classroomRoutes","coachRoutes","examRoutes","guideRoutes","questionsRoutes","resourceRoutes","statisticsRoutes","textbookRoutes","wizardRoutes","workRoutes","wrongRoutes","settingsRoutes","loginRequiredMiddleware","whiteList","indexOf","Token","isLogin","guestMiddleware","checkList","authCheckMiddleware","auths","awRouter","load","history","createHashHistory","notFoundRouteName","middlewares","routeTitle","document","MyRouter","render","ErrorBoundary","hasError","errorInfo","setState","ErrorComponent","ActionType","promiseReducer","action","type","START","initial","pending","errorMessage","FINISH","payload","HAS_ERROR","startActionCreator","finishActionCreator","hasErrorActionCreator","usePromise","func","initialState","delay","checkError","useReducer","dispatch","run","PminDelay","resp","e","warn","useMemo","useRequest","check","message","pr","data","App","getUserInfoAction","onerror","event","source","fileno","columnNumber","error_data","getElementsByTagName","innerText","error_event","script_url","line_number","column_number","error_detail","error_stack","stack","user_agent","navigator","userAgent","location_href","event_string","SCRIPT_ERROR","CHUNK_ERROR","warning","FastClick","attach","body","addEventListener","ev","val","newValue","localStorage","clear","sessionStorage","createApp","ReactDOM","getElementById","APP_ROOT_ID","devRender","module","isPromise","then","USER_TYPE","ROLE_TYPE","ROLE_STATUS","opt","mock","loaded","authStore","authArr","authMap","item","concat","a","some","__Authority__","useBaseLayout","useSetState","SEPARATOR","NO_VALIDATE_EXPIRE","AWStorage","disabled","enableLog","expire","checkExpire","msg","defaultMeta","updateTime","getTime","JSON","stringify","now","time","rawValue","getStorage","getItem","getKey","valueArr","metaString","realValue","metaObj","parse","isExpired","err","createMeta","setItem","parseMetaAndReturnRealValue","Number","middleware","dealData","keys","removeItem","AWStorageFactory","URLENCODED_CONTENT_TYPE","JSON_CONTENT_TYPE","CommonErrorMessage","OK_CODE","NO_LOGIN_CODE","OTHER_ERROR_CODES","axios","Axios","create","headers","interceptors","request","use","json","qs","Object","assign","Promise","reject","response","Services","showErrorMessage","statusCode","code","logout","errorResponseData","responseData","method","__Services__","api","username","password","url","authAPI","_data","termid","termname","yearname","TermStorage","getNumber","id","setNumber","__TermStorage__","RoleStorage","roleStore","jsonString","roleid","roletype","roleData","role","__RoleStorage__","terms","currentTerm","currentRole","setUserToState","userEntity","termVos","loadMap","acl","setDefaultTerm","defaultTermID","localTermID","localTerm","find","setCurrentTermAction","defaultTerm","UserServices","getDetaultTerm","term","setDefaultRole","setRole","inList","roles","setCurrentRoleAction","aclrole","localRole","defaultRole","activestatus","IS","firstRole","loginAction","login","trim","force","getUserInfo","useAuth","authGetter","termsGetter","isTeacherGetter","category","TEACHER","rolesGetter"],"mappings":"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","file":"static/js/main.ceb6fa8d.chunk.js","sourcesContent":["module.exports = (__webpack_require__(40))(170);","module.exports = (__webpack_require__(40))(83);","import React, { FC, ComponentProps } from 'react';\nimport { BaseValue, Store } from './type';\n\nexport interface HasStoreClassComponentProps<Store> {\n  store: Store\n}\n\nexport interface HasStoreMapClassComponentProps<Map> {\n  storeMap: Map\n}\n\n/** 注入单个 store 包包装的组件中 */\nexport function withStoreConsumer<Value extends BaseValue<any>>(\n  Component: React.ComponentType<HasStoreClassComponentProps<Value> & any>,\n  store: Store<Value>\n) {\n\n  const WrappedComponent: FC = (props: any) => {\n    const s = store.useStore();\n    return <Component {...props} store={s} />;\n  }\n\n  WrappedComponent.displayName = `withStoreConsumer(${Component.displayName || Component.name})`;\n  return WrappedComponent;\n}\n\n/** 注入多个 store 到包装的组件中 */\nexport function withStoreMapConsumer<Map>(\n  Component: React.ComponentType<HasStoreMapClassComponentProps<Map> & any>,\n  storeMap: {[key in keyof Map]: Store<BaseValue<any>>}\n) {\n\n  const WrappedComponent: FC = (props: any) => {\n    const sm: {[key: string]: BaseValue<any>} = {};\n\n    for (const k in storeMap) {\n      if (storeMap.hasOwnProperty(k)) {\n        sm[k] = storeMap[k].useStore();\n      }\n    }\n\n    return <Component {...props} storeMap={sm} />;\n  }\n\n  WrappedComponent.displayName = `withStoreMapConsumer(${Component.displayName || Component.name})`;\n  return WrappedComponent;\n}\n\n/** 组合 Provider */\nexport function withStoreProviders(\n  Component: React.ComponentType<any>,\n  stores: Store<BaseValue<any>>[], // index 靠前的会包裹 index 靠后的\n) {\n  if (!stores.length) {\n    return Component;\n  }\n\n  const components: React.ComponentType<any>[] = [];\n\n  stores.forEach((c) => components.push(c.Provider));\n  components.push(Component);\n\n  const createTree = (index: number, children: React.ComponentType, props: ComponentProps<any>): React.ReactElement => {\n    const isLastNode = index === components.length - 1;\n    const Com = components[index];\n\n    if (isLastNode) {\n      return <Com {...props}>{children}</Com>\n    }\n\n    return <Com {...props}>{createTree(++index, children, props)}</Com>\n  }\n\n  const WrappedComponent: FC = ({children, ...rest}: ComponentProps<any>) => createTree(0, children, rest);\n\n  WrappedComponent.displayName = `withStoreProviders(${Component.displayName || Component.name})`;\n  return WrappedComponent;\n}\n","// unstated-next: https://github.com/jamiebuilds/unstated-next\r\nimport React, { ComponentProps } from \"react\"\r\nimport { Store, BaseValue } from './type';\r\n\r\nexport function createStore<Value extends BaseValue<any>>(\r\n  useHook: () => Value,\r\n): Store<Value> {\r\n  const Context = React.createContext<Value | null>(null);\r\n\r\n  function Provider(props: ComponentProps<any>) {\r\n    const value = useHook();\r\n\r\n    return <Context.Provider value={value}>{props.children}</Context.Provider>;\r\n  }\r\n\r\n  function useStore(): Value {\r\n    const value = React.useContext(Context);\r\n\r\n    if (value === null) { throw new Error(\"Component must be wrapped with <Store.Provider>\"); }\r\n\r\n    return value;\r\n  }\r\n\r\n  return { Provider, useStore };\r\n}\r\n\r\n\r\n// function component 使用 hook 获取 store\r\n// class component 使用 hoc 获取 store\r\n","module.exports = (__webpack_require__(40))(230);","module.exports = (__webpack_require__(40))(228);","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpERThDMTlBREREQTgxMUU4QjcwMTlGQ0VFNzg4MzlGMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpERThDMTlBRUREQTgxMUU4QjcwMTlGQ0VFNzg4MzlGMiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkRFOEMxOUFCRERBODExRThCNzAxOUZDRUU3ODgzOUYyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkRFOEMxOUFDRERBODExRThCNzAxOUZDRUU3ODgzOUYyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+AE41zAAAFI5JREFUeNrsXQmYFNW1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\"","import { useEffect } from 'react';\n\nimport AWRouter, { AWRouteInfo } from 'aw-react-router';\nimport BaseLayoutStore, { BreadcrumbsType } from '@/store/base-layout';\nimport Authority from '@/auth/authority';\nimport { RouteMeta } from '@/routes/type';\nimport { isUndefined } from '@/tools/instance';\nimport { PAGE_NAMES } from '@/constants';\nimport { Nav } from '@/components/MyHeader/type';\n\n/** 修改面包屑 */\nexport function useBreadcrumbs(initBreadcrumbs: BreadcrumbsType[]) {\n  const store = BaseLayoutStore.useStore();\n\n  const setBreadcrumbs = (breadcrumbs: BreadcrumbsType[]) => {\n    store.setBreadcrumbsAction([\n      {\n        name: '首页',\n        routeName: 'home',\n      },\n      ...breadcrumbs,\n    ]);\n  };\n\n  useEffect(() => {\n    setBreadcrumbs(initBreadcrumbs);\n  }, []);\n\n  return {\n    breadcrumbs: store.state.breadcrumbs,\n    setBreadcrumbs,\n  };\n}\n\n\nconst NAV_MAX_LEN = 8; // 最后一个为 \"更多\"\n/** 创建页面导航 */\nexport function useNavs(): Nav[] {\n  const navs: Nav[] = [];\n  const moreNavs: Nav = {\n    defaultName: '更多',\n    subNav: [],\n  };\n  const routeInfos = AWRouter.instance().findMap(PAGE_NAMES.map(t => t.name));\n\n  PAGE_NAMES.forEach((r) => {\n    const name = r.name;\n    const info: AWRouteInfo<RouteMeta> = routeInfos[name];\n    if (!info) { return; }\n    const meta = info.meta || {};\n    const strict = isUndefined(meta.authUnstrict) ? true : !meta.authUnstrict;;\n\n    if (Authority.checkAll(meta.auth || [], strict)) {\n      if (navs.length >= (NAV_MAX_LEN - 1)) {\n        moreNavs.subNav!.push({ route: routeInfos[name] });\n        return;\n      }\n      navs.push({ route: routeInfos[name] });\n    }\n  });\n\n  if (moreNavs.subNav!.length > 1) {\n    return [...navs, moreNavs];\n  } else if (moreNavs.subNav!.length === 1) {\n    return [...navs, moreNavs.subNav![0]];\n  }\n\n  return navs;\n}\n","// ts react 的一些推断辅助\r\nimport { ComponentType } from \"react\";\r\n\r\ntype Omit<T, K extends keyof any> = Pick<T, Exclude<keyof T, K>>;\r\n\r\n/**\r\n * typescript defaultProps 的默认 props 辅助 hoc\r\n */\r\nexport const withDefaultProps = <P extends object, DP extends Partial<P> = Partial<P>>(\r\n  defaultProps: DP,\r\n  Cmp: ComponentType<P>,\r\n) => {\r\n  type RequiredProp = Omit<P, keyof DP>;\r\n  type Props = Partial<DP> & Required<RequiredProp>;\r\n\r\n  Cmp.defaultProps = defaultProps;\r\n\r\n  return (Cmp as ComponentType<any>) as ComponentType<Props>;\r\n};\r\n","export * from './ts-enhance';\r\n","module.exports = (__webpack_require__(40))(84);","// extracted by mini-css-extract-plugin","module.exports = (__webpack_require__(40))(425);","/** token */\nimport AWStorage from '@/tools/aw/aw-storage';\nimport createStorage from '@/storage/base';\nimport { TOKEN_KEY, getCookie } from '@/config';\n\n// 浏览器退出时清除 token\nclass TokenStorage {\n\n  private static _instance: TokenStorage | null = null;\n  private storage: AWStorage;\n\n  public static instance(): TokenStorage {\n    if (this._instance === null) {\n      this._instance = new this();\n    }\n\n    return this._instance!;\n  }\n\n  constructor() {\n    this.storage = createStorage({\n      hasMeta: false,\n      session: true,\n      prefix: '',\n    });\n  }\n\n  public readonly key = TOKEN_KEY;\n  private tokenStore: null | string = null; // 内存缓存\n\n  public set(token: string) {\n    const cookie = getCookie();\n\n    if (cookie) {\n      cookie.set(this.key, token);\n    }\n    this.storage.setString(this.key, token);\n\n    this.tokenStore = token;\n  }\n\n  /** 取值优先级 (内存 > cookie > sessionStorage) */\n  public get(): string {\n    if (this.tokenStore) {\n      return this.tokenStore;\n    }\n    const cookie = getCookie();\n\n    // cookie 有则读 cookie，否则读 sessionStorage，然后同步到 cookie\n    let tokenFromLocal = '';\n    if (cookie) { tokenFromLocal = cookie.get(this.key); }\n    if (!tokenFromLocal) {\n      tokenFromLocal = this.storage.getString(this.key) || '';\n      if (cookie) { cookie.set(this.key, tokenFromLocal); }\n    }\n\n    this.tokenStore = tokenFromLocal;\n    return this.tokenStore || '';\n  }\n\n  public clean() {\n    const cookie = getCookie();\n\n    if (cookie) { cookie.remove(this.key); }\n\n    this.storage.remove(this.key);\n    this.tokenStore = null;\n  }\n\n}\n\nexport default TokenStorage.instance();\n\n(window as any).__TokenStorage__ = TokenStorage.instance();\n","// 登出、获取用户 token 操作\nimport TokenStorage from '@/storage/token';\nimport AWRouter from 'aw-react-router';\n\ninterface LogoutConfig {\n  beforeCallback?: (token: string) => Promise<boolean> // 当前退出行为前的 callback\n  afterCallback?: () => Promise<boolean>               //当前退出行为后的 callback\n  triggerGlobalCallback?: boolean                      // 触发全局的 logout callback\n  reloadPage?: boolean                                 // 是否要刷新页面\n}\n\nexport default class {\n\n  public static readonly key = TokenStorage.key;\n  // main.ts 中挂载的回调 (将不方便在这个类中做的事情放到 main.ts 中去做)\n  public static logoutCallback: null | (() => void) = null;\n\n  public static set(token: string) {\n    TokenStorage.set(token);\n  }\n\n  public static get(): string {\n    return TokenStorage.get();\n  }\n\n  public static isLogin(): boolean {\n    return !!this.get();\n  }\n\n  public static clean() {\n    TokenStorage.clean();\n  }\n\n  /**\n   * 登出操作\n   */\n  public static async logout(config: LogoutConfig) {\n    if (config.beforeCallback) {\n      const status = await config.beforeCallback(this.get());\n      if (!status) {\n        return;\n      }\n    }\n\n    this.clean();\n\n    if (config.afterCallback) {\n      const status = await config.afterCallback();\n      if (!status) {\n        return;\n      }\n    }\n\n    // 触发全局的 callback\n    if (config.triggerGlobalCallback && this.logoutCallback) {\n      await this.logoutCallback();\n    }\n\n    if (config.reloadPage) {\n      window.location.href = '/';\n    } else {\n      AWRouter.instance().pushByName('login', {\n        replace: true,\n      });\n    }\n  }\n\n}\n","const W: any = window;\r\nconst MAIN_CONFIG: { [key: string]: any } = W.MAIN_CONFIG;\r\nif (!MAIN_CONFIG) { console.error('配置文件 MAIN_CONFIG.js 不存在，请检查!'); }\r\n\r\n// ---------------------------- 开发环境判断 ----------------------------\r\nconst ENV_DEVELOPMENT = 'development';\r\n// const ENV_PRODUCTION = 'production';\r\n\r\n/** 是否为 development 环境 */\r\nexport function isDev() {\r\n  return process.env.NODE_ENV === ENV_DEVELOPMENT;\r\n}\r\n\r\n// ---------------------------- 项目配置相关 ----------------------------\r\n/** PUBLIC_URL */\r\nexport const PUBLIC_URL = process.env.PUBLIC_URL;\r\n\r\n// ---------------------------- 接口根地址 ----------------------------\r\nexport const API_ROOT: string = MAIN_CONFIG.API_ROOT;\r\nexport const AUTH_API_ROOT: string = MAIN_CONFIG.AUTH_API_ROOT;\r\nexport const WORK_API_ROOT: string = MAIN_CONFIG.WORK_API_ROOT;\r\nexport const QUESTION_API_ROOT: string = MAIN_CONFIG.QUESTION_API_ROOT;\r\nexport const COACH_API_ROOT: string = MAIN_CONFIG.COACH_API_ROOT;\r\nexport const OFFICE_API_ROOT: string = MAIN_CONFIG.OFFICE_API_ROOT;\r\nexport const GUIDE_API_ROOT: string = MAIN_CONFIG.GUIDE_API_ROOT;\r\nexport const RESOURCE_API_ROOT: string = MAIN_CONFIG.RESOURCE_API_ROOT;\r\nexport const DICTIONARY_API_ROOT: string = MAIN_CONFIG.DICTIONARY_API_ROOT;\r\n\r\n// ---------------------------- page url ----------------------------\r\nexport const ADMIN_URL: string = MAIN_CONFIG.ADMIN_URL; // 管理后台地址\r\nexport const RECORDING_PLATFORM: string = MAIN_CONFIG.RECORDING_PLATFORM; // 录播平台登录页面\r\n\r\n// ---------------------------- ewebeditor config ----------------------------\r\nexport const EWEBEDITOR_URL = '/ewebeditor/ewebeditor.htm';\r\nexport const EWEBEDITOR_STYLE = 'expand600';\r\nexport const EWEBEDITOR_SKIN = 'flat10';\r\nexport function create_ewebeditor_src(editor_key: string) {\r\n  return `${EWEBEDITOR_URL}?id=content${editor_key}&style=${EWEBEDITOR_STYLE}&skin=${EWEBEDITOR_SKIN}`;\r\n}\r\n\r\n// ---------------------------- key ----------------------------\r\nexport const LOCALSTROAGE_PREFIX: string= MAIN_CONFIG.LOCALSTROAGE_PREFIX; // localstroage prefix\r\nexport const TOKEN_KEY: string = MAIN_CONFIG.TOKEN_KEY; // token key\r\n\r\n// ---------------------------- cookie ----------------------------\r\ninterface CookiesType {\r\n  set(key: string, val: string, attr?: { [key: string]: any }): string | void;\r\n  get(key: string, json?: boolean): any;\r\n  remove(key: string, attr?: { [key: string]: any }): void;\r\n}\r\n\r\nconst Cookies: CookiesType = (window as any).Cookies;\r\nexport function getCookie() {\r\n  if (!Cookies) {\r\n    console.log('js-cookie.js 未加载');\r\n    return null;\r\n  }\r\n  return Cookies;\r\n}\r\n\r\n// ---------------------------- cache config ----------------------------\r\nexport const DISABLED_EXPIRE = 666666; // 不设置缓存\r\nexport const WK_STORAGE_EXPIRE = MAIN_CONFIG.WK_STORAGE_EXPIRE || DISABLED_EXPIRE;\r\nexport const DISABLED_CHAPTER_TREE_CACHE = MAIN_CONFIG.DISABLED_CHAPTER_TREE_CACHE || false;\r\nexport const DISABLED_KNOW_TREE_CACHE = MAIN_CONFIG.DISABLED_KNOW_TREE_CACHE || false;\r\n\r\n// ---------------------------- 其他 ----------------------------\r\n// 补丁函数\r\ntype PatchCallbackType = (params: any) => void;\r\nexport const PATCH_CALLBACK: PatchCallbackType | null = MAIN_CONFIG.PATCH_CALLBACK || null;\r\nexport const PATCH_CALLBACK_ROUTE_MIDDLEWARE = (params: any) => {\r\n  if (PATCH_CALLBACK) {\r\n    PATCH_CALLBACK(params);\r\n  }\r\n  return null;\r\n}\r\n\r\n// ---------------------------- 必有配置的加载检查 ----------------------------\r\nconst apiConfigArr = [API_ROOT, AUTH_API_ROOT, WORK_API_ROOT, QUESTION_API_ROOT, COACH_API_ROOT, OFFICE_API_ROOT, GUIDE_API_ROOT, RESOURCE_API_ROOT, DICTIONARY_API_ROOT, ADMIN_URL];\r\nconst otherConfigArr = [LOCALSTROAGE_PREFIX, TOKEN_KEY];\r\nif (!apiConfigArr.every((i) => !!i)) {\r\n  console.error('【MAIN_CONFIG】 API PREFIX 加载错误，请检查配置文件', apiConfigArr);\r\n}\r\nif (!otherConfigArr.every((i) => !!i)) {\r\n  console.error('【MAIN_CONFIG】 OTHER CONFIG 加载错误，请检查配置文件', otherConfigArr);\r\n}\r\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React from 'react';\nimport { createSuspense } from 'aw-react-router';\n\nexport default createSuspense({\n  defaultDelay: 0,\n  defaultLoading: <div className=\"common_page_placeholder\">loading ... ...</div>\n});\n","import { isUndefined } from '@/tools/instance';\n\n/**\n * safeGet 安全的获取对象值\n * obj = {a: {b: {c: 123}}}\n *\n * safeGet(obj, 'a.b.c') // 123\n * safeGet(obj, 'a.b.d', '我是默认值') // 我是默认值\n *\n * @param   {Object}  目标对象\n * @param   {String}  路径字符串 \"a.b.c\"\n * @param   {Any}     默认值\n * @return  {Any}     获取到的值\n */\nexport function safeGet<T>(targetObj: object, keyString: string, defaultValue: T) {\n  const path = String(keyString).split('.')\n  const result = path.reduce((preObj, curPath) => {\n    return (preObj !== null && !isUndefined(preObj))\n      ? (preObj as any)[curPath]\n      : preObj\n  }, targetObj)\n\n  return isUndefined(result)\n    ? (isUndefined(defaultValue) ? result : defaultValue)\n    : result\n}\n","import React, { FC } from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  Dropdown,\n  Menu,\n  Icon,\n} from 'antd';\n\nimport './MenuItem.less';\nimport { Nav } from './type';\n\nimport './UserAvatar.less';\n\ninterface Props {\n  active: boolean\n  nav: Nav\n}\n\nconst menus = (nav: Nav): JSX.Element => {\n  const subNavs = nav.subNav || [];\n\n  return (\n    <Menu>\n      {\n        subNavs.map((n, i) => {\n          return (\n            <Menu.Item key={i}>\n              <Link to={n.route!.fullPath}>{n.route!.meta.hanName}</Link>\n            </Menu.Item>\n          );\n        })\n      }\n    </Menu>\n  );\n}\n\nconst MenuItem: FC<Props> = ({ nav, active }) => {\n  const classnames = [\n    'menu_item_component',\n    active ? 'active' : '',\n  ].filter(Boolean).join(' ');\n  const hasSubNav = nav.subNav && nav.subNav.length > 0 && nav.defaultName;\n\n  return (\n    <div className={classnames}>\n      {\n        hasSubNav\n          ? <Dropdown overlayClassName=\"header_menu_item_content\" overlay={menus(nav)}>\n              <div>{nav.defaultName} <Icon type=\"down\" /></div>\n            </Dropdown>\n          : <Link to={nav.route!.fullPath}>{nav.route!.meta.hanName}</Link>\n      }\n    </div>\n  );\n};\n\nexport default MenuItem;\n","import React, { FC } from 'react';\nimport {\n  Dropdown,\n  Menu,\n} from 'antd';\nimport { Link } from 'react-router-dom';\n\nimport defaultAvatar from '@/assets/images/default_teacher_avatar.png';\nimport AuthStore from '@/store/auth';\nimport AWRouter from 'aw-react-router';\n\nconst UserAvatar: FC = () => {\n  const store = AuthStore.useStore();\n  const user = store.state.user!;\n  const settingsPath = AWRouter.instance().getPathByName('settings');\n\n  const menus = (\n    <Menu>\n      <Menu.Item>\n        <Link to={settingsPath}>个人中心</Link>\n      </Menu.Item>\n      <Menu.Item>\n        <p onClick={store.logoutAction}>退出</p>\n      </Menu.Item>\n    </Menu>\n  );\n\n  return (\n    <Dropdown overlay={menus}>\n      <div className=\"user_avatar_component\">\n        <div className=\"user_avatar\">\n          <img src={user.fullPath || defaultAvatar} alt=\"avatar\" />\n        </div>\n      </div>\n    </Dropdown>\n  );\n};\n\nexport default UserAvatar;\n","import React, { FC } from 'react';\nimport { Row, Col } from 'antd';\n\nimport { withDefaultProps } from '@/tools/hoc';\nimport AWRouter, { AWRouteState } from 'aw-react-router';\nimport { RouteMeta } from '@/routes/type';\nimport { Nav } from './type';\nimport { safeGet } from '@/tools';\n\nimport logoImg from '@/assets/images/logo.png';\nimport MenuItem from './MenuItem';\nimport UserAvatar from './UserAvatar';\n\nimport './index.less';\n\n\ninterface DefaultProps {\n  canGoRoot: boolean\n  navs: Nav[]\n}\n\nconst defaultProps: DefaultProps = {\n  canGoRoot: true,\n  navs: [],\n}\n\nfunction isActiveNav(nav: Nav): boolean {\n  const currentRoute: AWRouteState<RouteMeta> | null = AWRouter.instance().getCurrentState();\n  if (!currentRoute) { return false; }\n  const meta = currentRoute.meta;\n  if (!meta) { return false; }\n\n  return meta.topNavName === safeGet(nav, 'route.meta.topNavName', '');\n}\n\nconst MyHeader: FC<DefaultProps> = ({ navs, canGoRoot }) => {\n  /** 回到首页 */\n  const gotoRootPage = () => {\n    AWRouter.instance().pushByName('home');\n  };\n\n  return (\n    <div className=\"my_header_component\">\n      <Row className=\"menu_inner\">\n\n        {/* logo */}\n        <Col span={3}>\n          {\n            canGoRoot\n            ? <div className=\"menu_logo\" title=\"点击回到首页\" onClick={gotoRootPage}>\n                <img alt=\"logo\" src={logoImg} />\n                <span className=\"logo_title\">首页</span>\n              </div>\n            : <div className=\"menu_logo\" style={{cursor: 'pointer'}}>\n                <img alt=\"logo\" src={logoImg} />\n              </div>\n          }\n\n        </Col>\n\n        {/* menu */}\n        <Col span={19}>\n          {\n            navs.map((n, i) => {\n              return (\n                <div className=\"menu_wrapper_item\" key={i} style={{width: 100 / navs.length + '%'}}>\n                  <MenuItem nav={n} active={isActiveNav(n)} />\n                </div>\n              );\n            })\n          }\n        </Col>\n\n        {/* avatar */}\n        <Col span={2}>\n          <UserAvatar />\n        </Col>\n\n      </Row>\n    </div>\n  );\n}\n\nexport default withDefaultProps(defaultProps, MyHeader);\n","import React, { FC } from 'react';\r\nimport {\r\n  Row,\r\n  Col,\r\n} from 'antd';\r\n\r\nimport './index.less';\r\n\r\nconst year = new Date().getFullYear();\r\n\r\nconst MyFooter: FC = () => {\r\n  return (\r\n    <footer className=\"my_footer_component\">\r\n      <Row className=\"inner\">\r\n        <Col span={10}>Copyright © 2009 - {year} Edutech, Inc. All rights reserved.</Col>\r\n        <Col span={14}>\r\n          版权所有：上海易教信息科技有限公司\r\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\r\n          <a rel=\"noopener noreferrer\" href=\"http://www.educationtek.com/\" target=\"_blank\">www.educationtek.com</a>\r\n        </Col>\r\n      </Row>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default MyFooter;\r\n","import React, { memo, FC, useCallback } from 'react';\nimport {\n  Breadcrumb,\n} from 'antd';\n\nimport AWRouter from 'aw-react-router';\nimport BaseLayoutStore, { BreadcrumbsType } from '@/store/base-layout';\n\nconst Breadcrumbs: FC = () => {\n  const { state } = BaseLayoutStore.useStore();\n\n  const defaultHandler = useCallback((b: BreadcrumbsType) => {\n    if (!b.handler && b.routeName) {\n      AWRouter.instance().pushByName(b.routeName);\n    }\n  }, []);\n\n  return (\n    <Breadcrumb separator=\">\">\n      {\n        state.breadcrumbs.map((b) => {\n          const handler = b.handler || defaultHandler;\n\n          return (\n            <Breadcrumb.Item key={b.name} onClick={() => handler(b)}>\n              {b.name}\n            </Breadcrumb.Item>\n          );\n        })\n      }\n    </Breadcrumb>\n  );\n}\n\nexport default memo(Breadcrumbs);\n","import React, { memo } from 'react';\n\nimport './index.less';\n\nimport { AWRouteLayout } from \"@/tools/aw/aw-router\";\nimport { withStoreProviders } from '@/tools/aw/aw-store';\n\nimport BaseLayoutStore from '@/store/base-layout';\n\nimport MyHeader from '@/components/MyHeader';\nimport MyFooter from '@/components/MyFooter';\n\nimport Breadcrumbs from './Breadcrumbs';\nimport { useNavs } from './hooks';\n\n\nconst BaseLayout: AWRouteLayout = memo(({ routerView }) => {\n  const navs = useNavs();\n\n  return (\n    <div className=\"base_layout\">\n      <div className=\"header_wrapper\">\n        <MyHeader navs={navs} />\n      </div>\n\n      <div className=\"breadcrumb_wrapper\">\n        <Breadcrumbs />\n      </div>\n\n      <div className=\"main\">\n        {\n          routerView()\n        }\n      </div>\n\n      <MyFooter />\n    </div>\n  );\n});\n\nBaseLayout.displayName = 'BaseLayout';\n\nexport default withStoreProviders(BaseLayout, [BaseLayoutStore]);\n","// 完整权限映射表\n\n/** ---------------------------------------- 导学本 ---------------------------------------- */\n// 导学本模块\nexport const auth_guide = 'guide_book_tea';\n// 导学本新建\nexport const auth_guide__gbt_guide_book_add = 'gbt_guide_book_add';\n// 导学本删除\nexport const auth_guide__gbt_guide_book_del = 'gbt_guide_book_del';\n// 导学本移动\nexport const auth_guide__gbt_guide_book_move = 'gbt_guide_book_move';\n// 导学本共享\nexport const auth_guide__gbt_guide_book_share = 'gbt_guide_book_share';\n// 下载资源\nexport const auth_guide__gbt_resource_download = 'gbt_resource_download';\n// 测验\nexport const auth_guide__gbt_examination = 'gbt_examination';\n\n/** ---------------------------------------- 统计分析 ---------------------------------------- */\n// 统计分析模块\nexport const auth_statistics = 'statistics_tea';\n\n/** ---------------------------------------- 作业辅导 ---------------------------------------- */\n// 作业辅导模块\nexport const auth_coach = 'coach_tea';\n// 新建辅导\nexport const auth_coach__ct_coach_add = 'ct_coach_add';\n// 删除辅导\nexport const auth_coach__ct_coach_del = 'ct_coach_del';\n// 导入微课\nexport const auth_coach__ct_WK_import = 'ct_WK_import';\n// 题库选题\nexport const auth_coach__ct_questionbank_selection = 'ct_questionbank_selection';\n// 导出题目\nexport const auth_coach__ct_question_export = 'ct_question_export';\n// 看讲解\nexport const auth_coach__ct_read_explanation = 'ct_read_explanation';\n// 解析答案\nexport const auth_coach__ct_analyze_answer = 'ct_analyze_answer';\n// 加入错题集\nexport const auth_coach__ct_mistakecollection_add = 'ct_mistakecollection_add';\n// 移出辅导\nexport const auth_coach__ct_coach_rmv = 'ct_coach_rmv';\n// 下载辅导\nexport const auth_coach__ct_coach_download = 'ct_coach_download';\n// 点赞\nexport const auth_coach__ct_thumb_up = 'ct_thumb-up';\n// 关联知识点\nexport const auth_coach__ct_knowledge_associate = 'ct_knowledge_associate';\n\n/** ---------------------------------------- 网络作业 ---------------------------------------- */\n// 网络作业模块\nexport const auth_homework = 'homework_tea';\n// 布置作业\nexport const auth_homework__ht_homework_arrange = 'ht_homework_arrange';\n// 删除\nexport const auth_homework__ht_homework_del = 'ht_homework_del';\n// 发布到其他班级\nexport const auth_homework__ht_otherclass_publish = 'ht_otherclass_publish';\n// 加入错题集\nexport const auth_homework__ht_mistakecollection_add = 'ht_mistakecollection_add';\n// 复制作业\nexport const auth_homework__ht_homework_copy = 'ht_homework_copy';\n// 下载作业\nexport const auth_homework__ht_homework_download = 'ht_homework_download';\n// 下载答案\nexport const auth_homework__ht_homework_answer = 'ht_homework_answer';\n// 分享作业\nexport const auth_homework__ht_homework_share = 'ht_homework_share';\n// 参考资料\nexport const auth_homework__ht_homework_attachment = 'ht_homework_attachment';\n// 求讲解\nexport const auth_homework__ht_answer_temporary_save = 'ht_answer_temporary_save';\n// 暂存作业答案\nexport const auth_homework__ht_explanation_seek = 'ht_explanation_seek';\n\n/** ---------------------------------------- 错题集 ---------------------------------------- */\n// 错题集模块\nexport const auth_mistakecollection = 'mistakecollection_tea';\n\n/** ---------------------------------------- 备课中心(个人) ---------------------------------------- */\n// 个人备课中心模块\nexport const auth_resource = 'resource_tea';\n// 上传资源\nexport const auth_resource__rt_resource_upload = 'rt_resource_upload';\n// 删除资源\nexport const auth_resource__rt_resource_del = 'rt_resource_del';\n// 使用到导学本\nexport const auth_resource__rt_use_to_guide_book = 'rt_use_to_guide_book';\n// 发到校本资源\nexport const auth_resource__rt_publish_to_school = 'rt_publish_to_school';\n// 下载资源\nexport const auth_resource__rt_resource_download = 'rt_resource_download';\n\n/** ---------------------------------------- 备课中心(校本) ---------------------------------------- */\n// 校本备课中心模块\nexport const auth_resource_school = 'resource_school_tea';\n// 上传资源\nexport const auth_resource_school__rst_resource_upload = 'rst_resource_upload';\n// 删除资源\nexport const auth_resource_school__rst_resource_del = 'rst_resource_del';\n// 使用到导学本\nexport const auth_resource_school__rst_use_to_guide_book = 'rst_use_to_guide_book';\n// 下载资源\nexport const auth_resource_school__rst_resource_download = 'rst_resource_download';\n\n/** ---------------------------------------- 备课中心(公共) ---------------------------------------- */\n// 公共备课中心模块\nexport const auth_resource_public = 'resource_common_tea';\n// 下载资源\nexport const auth_resource_public__rct_resource_download = 'rct_resource_download';\n// 使用到导学本\nexport const auth_resource_public__rct_use_to_guide_book = 'rct_use_to_guide_book';\n\n/** ---------------------------------------- 题库(个人) ---------------------------------------- */\n// 个人题库模块\nexport const auth_questionbank = 'questionbank_tea';\n// 新增题目\nexport const auth_questionbank__qt_question_add = 'qt_question_add';\n// 批量导入\nexport const auth_questionbank__qt_question_batch_import = 'qt_question_batch_import';\n// 删除题目\nexport const auth_questionbank__qt_question_del = 'qt_question_del';\n// 试题篮\nexport const auth_questionbank__qt_question_basket = 'qt_question_basket';\n// 编辑题目\nexport const auth_questionbank__qt_question_edit = 'qt_question_edit';\n// 解析答案\nexport const auth_questionbank__qt_analyze_answer = 'qt_analyze_answer';\n// 看/录讲解\nexport const auth_questionbank__qt_explanation_read_and_record = 'qt_explanation_read/record';\n// 加入校本题库\nexport const auth_questionbank__qt_add_to_school_questionbank = 'qt_add_to_school_questionbank';\n\n/** ---------------------------------------- 题库(校本) ---------------------------------------- */\n// 校本题库模块\nexport const auth_questionbank_school = 'questionbank_school_tea';\n// 新增题目\nexport const auth_questionbank_school__qst_question_add = 'qst_question_add';\n// 批量导入\nexport const auth_questionbank_school__qst_question_batch_import = 'qst_question_batch_import';\n// 删除题目\nexport const auth_questionbank_school__qst_question_del = 'qst_question_del';\n// 试题篮\nexport const auth_questionbank_school__qst_question_basket = 'qst_question_basket';\n// 编辑题目\nexport const auth_questionbank_school__qst_question_edit = 'qst_question_edit';\n// 解析答案\nexport const auth_questionbank_school__qst_analyze_answer = 'qst_analyze_answer';\n// 看讲解\nexport const auth_questionbank_school__qst_explanation_read = 'qst_explanation_read';\n// 录讲解\nexport const auth_questionbank_school__qst_explanation_record = 'qst_explanation_record';\n\n/** ---------------------------------------- 题库(公共) ---------------------------------------- */\n// 公共题库模块\nexport const auth_questionbank_public = 'questionbank_common_tea';\n// 试题篮\nexport const auth_questionbank_public__qct_question_basket = 'qct_question_basket';\n// 看解析\nexport const auth_questionbank_public__qct_analyze_answer = 'qct_analyze_answer';\n\n/** ---------------------------------------- 智慧课堂 ---------------------------------------- */\n// 智慧课堂模块\nexport const auth_intelligent_classroom = 'intelligent_classroom';\n// 课堂报告\nexport const auth_intelligent_classroom__classroom_report = 'classroom_report';\n\n/** ---------------------------------------- 课本 ---------------------------------------- */\n// 课本模块\nexport const auth_textbook = 'textbook_tea';\n// 个人课本 (添加、修改、删除)\nexport const auth_textbook__tt_personal_textbook = 'tt_personal_textbook';\n// 校本课本 (添加、修改、删除)\nexport const auth_textbook__tt_school_textbook = 'tt_school_textbook';\n\n/** ---------------------------------------- 个人中心 ---------------------------------------- */\n// 班级设置\nexport const auth_usercenter__class_setting = 'class_setting';\n\n/** ---------------------------------------- 使用向导 ---------------------------------------- */\n// 使用向导模块\nexport const auth_user_guidance = 'user_guidance_tea';\n\n/** ---------------------------------------- 入学考试 ---------------------------------------- */\n// 入学考试模块\nexport const auth_exam = 'exam_school_tea';\n\n/** ---------------------------------------- 录播平台 ---------------------------------------- */\n// 录播平台模块\nexport const auth_record_play = 'record_play_tea';\n","// 模块权限\nimport * as MAP from './map';\n\n/** 智慧课堂权限 */\nexport const CLASSROOM_AUTH = [\n  MAP.auth_intelligent_classroom,\n];\n\n/** 作业辅导权限 */\nexport const COACH_AUTH = [\n  MAP.auth_coach,\n];\n\n/** 入学考试权限 */\nexport const EXAM_AUTH = [\n  MAP.auth_exam,\n];\n\n/** 导学本权限 */\nexport const GUIDE_AUTH = [\n  MAP.auth_guide,\n];\n\n/** 题库权限 */\nexport const QUESTIONS_AUTH = [\n  MAP.auth_questionbank,\n];\n\n/** 备课中心权限 */\nexport const RESOURCE_AUTH = [\n  MAP.auth_resource,\n];\n\n/** 统计分析权限 */\nexport const STATISTICS_AUTH = [\n  MAP.auth_statistics,\n];\n\n/** 课本权限 */\nexport const TEXTBOOK_AUTH = [\n  MAP.auth_textbook,\n];\n\n/** 使用向导权限 */\nexport const WIZARD_AUTH = [\n  MAP.auth_user_guidance,\n];\n\n/** 网络作业权限 */\nexport const WORK_AUTH = [\n  MAP.auth_homework,\n];\n\n/** 错题集权限 */\nexport const WRONG_AUTH = [\n  MAP.auth_mistakecollection,\n];\n","import React from 'react';\n\nimport { AWRouteConfig } from 'aw-react-router';\nimport AWSuspense from '@/routes/suspense';\nimport BaseLayout from '@/layouts/Base';\nimport { RouteMeta } from '@/routes/type';\nimport { CLASSROOM_AUTH } from '@/auth/page';\n\nconst TOP_NAV_NAME = '智慧课堂';\n\nconst routes: AWRouteConfig<RouteMeta>[] = [\n  {\n    name: 'classroom',\n    path: '/classroom',\n    component: BaseLayout,\n    meta: {\n      hanName: TOP_NAV_NAME,\n      title: `教学平台-${TOP_NAV_NAME}`,\n      topNavName: TOP_NAV_NAME,\n      auth: CLASSROOM_AUTH,\n    },\n    children: [\n      {\n        default: true,\n        path: '/list',\n        name: 'classroom-list',\n        component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'classroom-list' */ '@/pages/ClassRoom')} />,\n        meta: {\n          hanName: `${TOP_NAV_NAME}列表`,\n          title: `教学平台-${TOP_NAV_NAME}`,\n          topNavName: TOP_NAV_NAME,\n          auth: CLASSROOM_AUTH,\n        },\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import React from 'react';\n\nimport { AWRouteConfig } from 'aw-react-router';\nimport AWSuspense from '@/routes/suspense';\nimport BaseLayout from '@/layouts/Base';\nimport { RouteMeta } from '@/routes/type';\nimport { COACH_AUTH } from '@/auth/page';\n\nconst TOP_NAV_NAME = '作业辅导';\n\nconst routes: AWRouteConfig<RouteMeta>[] = [\n  {\n    name: 'coach',\n    path: '/coach',\n    component: BaseLayout,\n    meta: {\n      hanName: TOP_NAV_NAME,\n      title: `教学平台-${TOP_NAV_NAME}`,\n      topNavName: TOP_NAV_NAME,\n      auth: COACH_AUTH,\n    },\n    children: [\n      {\n        default: true,\n        path: '/list',\n        name: 'coach-list',\n        component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'coach_list' */ '@/pages/Coach')} />,\n        meta: {\n          hanName: TOP_NAV_NAME,\n          title: `教学平台-${TOP_NAV_NAME}`,\n          topNavName: TOP_NAV_NAME,\n          auth: COACH_AUTH,\n        },\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import React from 'react';\n\nimport { AWRouteConfig } from 'aw-react-router';\nimport AWSuspense from '@/routes/suspense';\nimport BaseLayout from '@/layouts/Base';\nimport { RouteMeta } from '@/routes/type';\nimport { EXAM_AUTH } from '@/auth/page';\n\nconst TOP_NAV_NAME = '入学考试';\n\nconst routes: AWRouteConfig<RouteMeta>[] = [\n  {\n    name: 'exam',\n    path: '/exam',\n    component: BaseLayout,\n    meta: {\n      hanName: TOP_NAV_NAME,\n      title: `教学平台-${TOP_NAV_NAME}`,\n      topNavName: TOP_NAV_NAME,\n      auth: EXAM_AUTH,\n    },\n    children: [\n      {\n        default: true,\n        path: '/list',\n        name: 'exam-list',\n        component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'exam-list' */ '@/pages/Exam')} />,\n        meta: {\n          hanName: TOP_NAV_NAME,\n          title: `教学平台-${TOP_NAV_NAME}`,\n          topNavName: TOP_NAV_NAME,\n          auth: EXAM_AUTH,\n        },\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import React from 'react';\n\nimport { AWRouteConfig } from 'aw-react-router';\nimport AWSuspense from '@/routes/suspense';\nimport BaseLayout from '@/layouts/Base';\nimport { RouteMeta } from '@/routes/type';\nimport { GUIDE_AUTH } from '@/auth/page';\n\nconst TOP_NAV_NAME = '导学本';\n\nconst routes: AWRouteConfig<RouteMeta>[] = [\n  {\n    name: 'guide',\n    path: '/guide',\n    component: BaseLayout,\n    meta: {\n      hanName: TOP_NAV_NAME,\n      title: `教学平台-${TOP_NAV_NAME}`,\n      topNavName: TOP_NAV_NAME,\n      auth: GUIDE_AUTH,\n    },\n    children: [\n      {\n        default: true,\n        path: '/list',\n        name: 'guide-list',\n        component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'guide-list' */ '@/pages/Guide')} />,\n        meta: {\n          hanName: TOP_NAV_NAME,\n          title: `教学平台-${TOP_NAV_NAME}`,\n          topNavName: TOP_NAV_NAME,\n          auth: GUIDE_AUTH,\n        },\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import React from 'react';\n\nimport { AWRouteConfig } from 'aw-react-router';\nimport AWSuspense from '@/routes/suspense';\nimport BaseLayout from '@/layouts/Base';\nimport { RouteMeta } from '@/routes/type';\nimport { QUESTIONS_AUTH } from '@/auth/page';\n\nconst TOP_NAV_NAME = '题库';\n\nconst routes: AWRouteConfig<RouteMeta>[] = [\n  {\n    name: 'questions',\n    path: '/questions',\n    component: BaseLayout,\n    meta: {\n      hanName: TOP_NAV_NAME,\n      title: `教学平台-${TOP_NAV_NAME}`,\n      topNavName: TOP_NAV_NAME,\n      auth: QUESTIONS_AUTH,\n    },\n    children: [\n      {\n        default: true,\n        path: '/list',\n        name: 'questions-list',\n        component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'questions-list' */ '@/pages/Questions')} />,\n        meta: {\n          hanName: TOP_NAV_NAME,\n          title: `教学平台-${TOP_NAV_NAME}`,\n          topNavName: TOP_NAV_NAME,\n          auth: QUESTIONS_AUTH,\n        },\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import React from 'react';\n\nimport { AWRouteConfig } from 'aw-react-router';\nimport AWSuspense from '@/routes/suspense';\nimport BaseLayout from '@/layouts/Base';\nimport { RouteMeta } from '@/routes/type';\nimport { RESOURCE_AUTH } from '@/auth/page';\n\nconst TOP_NAV_NAME = '备课中心';\n\nconst routes: AWRouteConfig<RouteMeta>[] = [\n  {\n    name: 'resource',\n    path: '/resource',\n    component: BaseLayout,\n    meta: {\n      hanName: TOP_NAV_NAME,\n      title: `教学平台-${TOP_NAV_NAME}`,\n      topNavName: TOP_NAV_NAME,\n      auth: RESOURCE_AUTH,\n    },\n    children: [\n      {\n        default: true,\n        path: '/list',\n        name: 'resource-list',\n        component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'resource-list' */ '@/pages/Resource')} />,\n        meta: {\n          hanName: TOP_NAV_NAME,\n          title: `教学平台-${TOP_NAV_NAME}`,\n          topNavName: TOP_NAV_NAME,\n          auth: RESOURCE_AUTH,\n        },\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import React from 'react';\n\nimport { AWRouteConfig } from 'aw-react-router';\nimport AWSuspense from '@/routes/suspense';\nimport BaseLayout from '@/layouts/Base';\nimport { RouteMeta } from '@/routes/type';\nimport { STATISTICS_AUTH } from '@/auth/page';\n\nconst TOP_NAV_NAME = '统计分析';\n\nconst routes: AWRouteConfig<RouteMeta>[] = [\n  {\n    name: 'statistics',\n    path: '/statistics',\n    component: BaseLayout,\n    meta: {\n      hanName: TOP_NAV_NAME,\n      title: `教学平台-${TOP_NAV_NAME}`,\n      topNavName: TOP_NAV_NAME,\n      auth: STATISTICS_AUTH,\n    },\n    children: [\n      {\n        default: true,\n        name: 'resource-view',\n        component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'resource-view' */ '@/pages/Statistics')} />,\n        meta: {\n          hanName: TOP_NAV_NAME,\n          title: `教学平台-${TOP_NAV_NAME}`,\n          topNavName: TOP_NAV_NAME,\n          auth: STATISTICS_AUTH,\n        },\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import React from 'react';\n\nimport { AWRouteConfig } from 'aw-react-router';\nimport AWSuspense from '@/routes/suspense';\nimport BaseLayout from '@/layouts/Base';\nimport { RouteMeta } from '@/routes/type';\nimport { TEXTBOOK_AUTH } from '@/auth/page';\n\nconst TOP_NAV_NAME = '课本管理';\n\nconst routes: AWRouteConfig<RouteMeta>[] = [\n  {\n    name: 'textbook',\n    path: '/textbook',\n    component: BaseLayout,\n    meta: {\n      hanName: TOP_NAV_NAME,\n      title: `教学平台-${TOP_NAV_NAME}`,\n      topNavName: TOP_NAV_NAME,\n      auth: TEXTBOOK_AUTH,\n    },\n    children: [\n      {\n        default: true,\n        name: 'textbook-chapter',\n        component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'textbook-chapter' */ '@/pages/Textbook')} />,\n        meta: {\n          hanName: TOP_NAV_NAME,\n          title: `教学平台-${TOP_NAV_NAME}`,\n          topNavName: TOP_NAV_NAME,\n          auth: TEXTBOOK_AUTH,\n        },\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import React from 'react';\n\nimport { AWRouteConfig } from 'aw-react-router';\nimport AWSuspense from '@/routes/suspense';\nimport BaseLayout from '@/layouts/Base';\nimport { RouteMeta } from '@/routes/type';\nimport { WIZARD_AUTH } from '@/auth/page';\n\nconst TOP_NAV_NAME = '使用向导';\n\nconst routes: AWRouteConfig<RouteMeta>[] = [\n  {\n    name: 'wizard',\n    path: '/wizard',\n    component: BaseLayout,\n    meta: {\n      hanName: TOP_NAV_NAME,\n      title: `教学平台-${TOP_NAV_NAME}`,\n      topNavName: TOP_NAV_NAME,\n      auth: WIZARD_AUTH,\n    },\n    children: [\n      {\n        default: true,\n        name: 'wizard-wk',\n        component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'wizard-wk' */ '@/pages/Wizard')} />,\n        meta: {\n          hanName: TOP_NAV_NAME,\n          title: `教学平台-${TOP_NAV_NAME}`,\n          topNavName: TOP_NAV_NAME,\n          auth: WIZARD_AUTH,\n        },\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import React from 'react';\n\nimport AWSuspense from '@/routes/suspense';\nimport { AWRouteConfig } from 'aw-react-router';\nimport BaseLayout from '@/layouts/Base';\nimport { RouteMeta } from '@/routes/type';\nimport { WORK_AUTH } from '@/auth/page';\n\nconst TOP_NAV_NAME = '网络作业';\n\nconst routes: AWRouteConfig<RouteMeta>[] = [\n  {\n    name: 'work',\n    path: '/work',\n    component: BaseLayout,\n    meta: {\n      hanName: TOP_NAV_NAME,\n      title: `教学平台-${TOP_NAV_NAME}`,\n      topNavName: TOP_NAV_NAME,\n      auth: WORK_AUTH,\n    },\n    children: [\n      {\n        default: true,\n        path: '/list',\n        name: 'work-list',\n        component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'work-list' */ '@/pages/Work/List')} />,\n        meta: {\n          hanName: TOP_NAV_NAME,\n          title: `教学平台-${TOP_NAV_NAME}`,\n          topNavName: TOP_NAV_NAME,\n          auth: WORK_AUTH,\n        },\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import React from 'react';\n\nimport { AWRouteConfig } from 'aw-react-router';\nimport AWSuspense from '@/routes/suspense';\nimport BaseLayout from '@/layouts/Base';\nimport { RouteMeta } from '@/routes/type';\nimport { WRONG_AUTH } from '@/auth/page';\n\nconst TOP_NAV_NAME = '错题集';\n\nconst routes: AWRouteConfig<RouteMeta>[] = [\n  {\n    name: 'wrong',\n    path: '/wrong',\n    component: BaseLayout,\n    meta: {\n      hanName: TOP_NAV_NAME,\n      title: `教学平台-${TOP_NAV_NAME}`,\n      topNavName: TOP_NAV_NAME,\n      auth: WRONG_AUTH,\n    },\n    children: [\n      {\n        default: true,\n        path: '/list',\n        name: 'wrong-list',\n        component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'wrong-list' */ '@/pages/Wrong')} />,\n        meta: {\n          hanName: TOP_NAV_NAME,\n          title: `教学平台-${TOP_NAV_NAME}`,\n          topNavName: TOP_NAV_NAME,\n          auth: WRONG_AUTH,\n        },\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import React from 'react';\n\nimport { AWRouteConfig } from 'aw-react-router';\nimport AWSuspense from '@/routes/suspense';\nimport BaseLayout from '@/layouts/Base';\nimport { RouteMeta } from '@/routes/type';\n\nconst TOP_NAV_NAME = '个人设置';\n\nconst routes: AWRouteConfig<RouteMeta>[] = [\n  {\n    name: 'settings',\n    path: '/settings',\n    component: BaseLayout,\n    meta: {\n      hanName: TOP_NAV_NAME,\n      title: `教学平台-${TOP_NAV_NAME}`,\n      topNavName: TOP_NAV_NAME,\n      auth: [],\n    },\n    children: [\n      {\n        default: true,\n        name: 'settings-default',\n        component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'settings' */ '@/pages/Settings')} />,\n        meta: {\n          hanName: `${TOP_NAV_NAME}`,\n          title: `教学平台-${TOP_NAV_NAME}`,\n          topNavName: TOP_NAV_NAME,\n          auth: [],\n        },\n      },\n    ],\n  },\n];\n\nexport default routes;\n","import React from 'react';\n\nimport { AWRouteConfig } from 'aw-react-router';\nimport AWSuspense from '@/routes/suspense';\nimport { RouteMeta } from '@/routes/type';\n\nimport classroomRoutes from '@/routes/pages/classroom';\nimport coachRoutes from '@/routes/pages/coach';\nimport examRoutes from '@/routes/pages/exam';\nimport guideRoutes from '@/routes/pages/guide';\nimport questionsRoutes from '@/routes/pages/questions';\nimport resourceRoutes from '@/routes/pages/resource';\nimport statisticsRoutes from '@/routes/pages/statistics';\nimport textbookRoutes from '@/routes/pages/textbook';\nimport wizardRoutes from '@/routes/pages/wizard';\nimport workRoutes from '@/routes/pages/work';\nimport wrongRoutes from '@/routes/pages/wrong';\nimport settingsRoutes from '@/routes/pages/settings';\n\nexport const routes: AWRouteConfig<RouteMeta>[] = [\n  {\n    name: 'login',\n    path: '/login',\n    component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'login' */ '@/pages/Login')} />,\n    meta: {\n      title: '登录',\n      hanName: '登录',\n    },\n  },\n  {\n    name: 'home',\n    path: '/',\n    component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'home' */ '@/pages/Home')} />,\n    meta: {\n      title: '首页',\n      hanName: '首页',\n    },\n  },\n\n  ...classroomRoutes,\n  ...coachRoutes,\n  ...examRoutes,\n  ...guideRoutes,\n  ...questionsRoutes,\n  ...resourceRoutes,\n  ...statisticsRoutes,\n  ...textbookRoutes,\n  ...wizardRoutes,\n  ...workRoutes,\n  ...wrongRoutes,\n  ...settingsRoutes,\n\n  {\n    name: '404',\n    path: '/404',\n    component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'notfound' */ '@/pages/Errors/NotFound')} />,\n    meta: {\n      title: '404',\n      hanName: '页面未找到',\n    },\n  },\n  {\n    name: 'unauthorized',\n    path: '/unauthorized',\n    component: (props) => <AWSuspense {...props} load={import(/* webpackChunkName: 'unauthorized' */ '@/pages/Errors/Unauthorized')} />,\n    meta: {\n      title: 'unauthorized',\n      hanName: '无权限访问',\n    },\n  },\n];\n","// 权限相关中间件\nimport React from 'react';\nimport { Redirect } from 'react-router';\n\nimport { AWRouteState, AWMiddlewareFunc } from 'aw-react-router';\n\nimport { RouteMeta } from '@/routes/type';\nimport Token from '@/auth/token';\nimport Authority from '@/auth/authority';\nimport { isUndefined } from '@/tools/instance';\n\n\n/**\n * 判断是否登录\n * whiteList: 不验证是否登录的路由 name 的白名单列表\n */\nexport function loginRequiredMiddleware(whiteList?: string[]): AWMiddlewareFunc {\n  return function (state: AWRouteState) {\n    // 路由名在白名单中，不需要验证是否登录\n    if (whiteList && whiteList.length) {\n      if (whiteList.indexOf(state.name) !== -1) {\n        return null;\n      }\n    }\n\n    if (Token.isLogin()) {\n      return null;\n    }\n\n    return <Redirect to=\"/login\" />;\n  }\n}\n\n/**\n * 未登录才可访问\n * checkList: 该列表中的 route name 的路由未登录才可访问\n */\nexport function guestMiddleware(checkList?: string[]): AWMiddlewareFunc {\n  return function (state: AWRouteState) {\n    if (checkList && checkList.length) {\n      if (checkList.indexOf(state.name) === -1) {\n        return null;\n      }\n    }\n\n    if (!Token.isLogin()) {\n      return null;\n    }\n\n    return <Redirect to=\"/\" />;\n  }\n}\n\n\n/** 用于权限判断的中间件 (也会判断是否登录了) */\nexport function authCheckMiddleware() {\n  return function (state: AWRouteState<RouteMeta>) {\n    const meta = state.meta || {};\n    const auths = meta.auth || [];\n    const strict = isUndefined(meta.authUnstrict) ? true : !meta.authUnstrict;\n\n    // 权限检查 (有配置才需检查)\n    if (!auths.length) {\n      return null;\n    }\n    if (Authority.checkAll(auths, strict)) {\n      return null;\n    }\n\n    return <Redirect to=\"/unauthorized\" />\n  }\n}\n","import React, { memo } from 'react';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { createHashHistory } from 'history';\n\nimport { PATCH_CALLBACK_ROUTE_MIDDLEWARE } from '@/config';\nimport { routes } from \"@/routes/routes\";\nimport { RouteMeta } from '@/routes/type';\nimport AWRouter, { AWRouteState } from 'aw-react-router';\nimport { loginRequiredMiddleware, guestMiddleware, authCheckMiddleware } from './middleware/auth';\n\n\n// 加载路由配置\nconst awRouter = AWRouter.instance();\nawRouter.load(routes, {\n  // history\n  history: createHashHistory(),\n  // not found route name\n  notFoundRouteName: '404',\n  // 全局路由中间件\n  middlewares: [\n    // 设置 title\n    (state: AWRouteState<RouteMeta>) => {\n      const meta = state.meta || {};\n      const routeTitle = meta.title;\n\n      if (routeTitle) {\n        document.title = routeTitle;\n      } else {\n        document.title = ['教学平台', meta.hanName].filter(Boolean).join('-');\n      }\n\n      return null;\n    },\n    PATCH_CALLBACK_ROUTE_MIDDLEWARE,                           // 暴露在 MAIN_CONFIG 中用于调试或打补丁的中间件\n    loginRequiredMiddleware(['404', 'unauthorized', 'login']), // 这些路由不需验证是否登录\n    guestMiddleware(['login']),                                // 只能未登录才可访问\n    // 权限判断 (根据各路由配置的 meta.auth 进行判断)\n    authCheckMiddleware(),\n  ],\n});\n\nconst MyRouter: React.FC = () => {\n  return (\n    <Router>\n      {\n        awRouter.render()()\n      }\n    </Router>\n  );\n}\n\nexport default memo(MyRouter);\n","// 错误边界\r\nimport React, { ErrorInfo, ComponentType } from 'react';\r\n\r\ninterface Props {\r\n  ErrorComponent?: ComponentType\r\n}\r\n\r\ninterface States {\r\n  hasError: boolean\r\n}\r\n\r\nclass ErrorBoundary extends React.Component<Props, States> {\r\n\r\n  state = {\r\n    hasError: false,\r\n  }\r\n\r\n  constructor(props: Props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: any) {\r\n    console.error(\"ErrorBoundary: \", error);\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\r\n    console.error(\"ErrorBoundary: \", {\r\n      error, errorInfo\r\n    });\r\n    this.setState({\r\n      hasError: true,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const { children, ErrorComponent } = this.props;\r\n\r\n    if (this.state.hasError) {\r\n      if (ErrorComponent) {\r\n        return <ErrorComponent />\r\n      }\r\n      return <h1>Something went wrong.</h1>;\r\n    }\r\n    \r\n\r\n    return children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;","import { useCallback, useMemo, useReducer } from 'react';\r\nimport PminDelay from 'p-min-delay';\r\n\r\nimport { CommonResponse } from '@/services/type';\r\n\r\ninterface PromiseErrorType {\r\n  hasError: boolean\r\n  errorMessage?: string\r\n}\r\n\r\ninterface UsePromiseOptions<T> {\r\n  delay?: number  // 当 promise 执行时间小于 delay 时，会等待 delay 时间过后再改变状态\r\n  checkError?: (result: T) => PromiseErrorType // 用于检测 promise 是否有错误\r\n}\r\n\r\ninterface UsePromiseReturn<T> {\r\n  initial: boolean         // 初始状态，promise 还未执行\r\n  run: () => Promise<void>          // 触发 promise\r\n  pending: boolean         // promise 执行中\r\n  hasError: boolean        // 发生错误了\r\n  errorMessage: string     // 错误信息\r\n  result: T                // promise 的返回值\r\n}\r\n\r\nenum ActionType {\r\n  START = 'START',         // 开始执行 promise\r\n  FINISH = 'FINISH',       // promise 执行结束\r\n  HAS_ERROR = 'HAS_ERROR', // promise 出现错误\r\n}\r\n\r\ninterface PromiseState<Result = any> {\r\n  initial: boolean\r\n  pending: boolean\r\n  hasError: boolean\r\n  errorMessage: string\r\n  result: Result\r\n}\r\n\r\ninterface ActionPayload<Result = any> {\r\n  hasError: boolean,\r\n  errorMessage: string\r\n  result: Result\r\n}\r\n\r\ninterface ActionData<Result = any> {\r\n  type: ActionType\r\n  payload?: ActionPayload<Result>\r\n}\r\n\r\nfunction promiseReducer(state: PromiseState, action: ActionData): PromiseState {\r\n  switch (action.type) {\r\n    case ActionType.START:\r\n      return {\r\n        ...state,\r\n        initial: false,\r\n        pending: true,\r\n        errorMessage: '',\r\n        hasError: false,\r\n      };\r\n    case ActionType.FINISH:\r\n      return {\r\n        ...state,\r\n        initial: false,\r\n        pending: false,\r\n        ...action.payload,\r\n      };\r\n    case ActionType.HAS_ERROR:\r\n      return {\r\n        ...state,\r\n        initial: false,\r\n        pending: false,\r\n        ...action.payload,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nconst startActionCreator = (): ActionData => ({type: ActionType.START});\r\nconst finishActionCreator = (result: any): ActionData => {\r\n  return { type: ActionType.FINISH, payload: {\r\n    hasError: false,\r\n    errorMessage: '',\r\n    result,\r\n  } };\r\n}\r\nconst hasErrorActionCreator = (errorMessage = '', result: any = null,): ActionData => {\r\n  return {\r\n    type: ActionType.HAS_ERROR,\r\n    payload: { hasError: true, errorMessage, result },\r\n  };\r\n}\r\n\r\nexport function usePromise<Result>(\r\n  func: () => Promise<Result>,\r\n  initialState: Result,\r\n  {\r\n    delay,\r\n    checkError,\r\n  }: UsePromiseOptions<Result> = {},\r\n): UsePromiseReturn<Result> {\r\n  const [state, dispatch] = useReducer(promiseReducer, {\r\n    initial: true,\r\n    pending: true,\r\n    hasError: false,\r\n    errorMessage: '',\r\n    result: initialState,\r\n  });\r\n\r\n  const run = useCallback(\r\n    async () => {\r\n      dispatch(startActionCreator());\r\n\r\n      try {\r\n        let resp: Result;\r\n        if (delay) {\r\n          resp = await PminDelay(func(), delay);\r\n        } else {\r\n          resp = await func();\r\n        }\r\n\r\n        if (checkError) {\r\n          const e = checkError(resp);\r\n          if (e.hasError) {\r\n            dispatch(hasErrorActionCreator(e.errorMessage, resp));\r\n            return;\r\n          }\r\n        }\r\n\r\n        dispatch(finishActionCreator(resp));\r\n      } catch (err) {\r\n        dispatch(hasErrorActionCreator(String(err)));\r\n        console.warn('usePromise error: ', err);\r\n      }\r\n    },\r\n    [delay, checkError],\r\n  );\r\n\r\n  return useMemo(\r\n    () => ({\r\n      ...state,\r\n      run,\r\n    }),\r\n    [state, run],\r\n  );\r\n}\r\n\r\nexport function useRequest<Result> (\r\n  func: () => Promise<CommonResponse<Result>>,\r\n  initialState: Result,\r\n  {\r\n    delay,\r\n    checkError,\r\n  }: UsePromiseOptions<CommonResponse<Result>> = {},\r\n) {\r\n  const check = useMemo(() => {\r\n    if (!checkError) {\r\n      return (result: CommonResponse<Result>) => {\r\n        if (!result.status) {\r\n          return { hasError: true, errorMessage: result.message || '' };\r\n        }\r\n\r\n        return { hasError: false, errorMessage: '' };\r\n      };\r\n    }\r\n    return checkError;\r\n  }, []);\r\n\r\n  const pr = usePromise(func,\r\n    { status: true, message: '', data: initialState },\r\n    { delay, checkError: check },\r\n  );\r\n\r\n  return {\r\n    ...pr,\r\n    result: pr.result.data,\r\n  }\r\n}","import React, { useEffect } from 'react';\n\nimport { withStoreProviders } from '@/tools/aw/aw-store';\nimport AuthStore from '@/store/auth';\nimport MyRouter from \"@/routes\";\nimport ErrorBoundary from '@/components/ErrorBoundary';\nimport { useRequest } from './tools/hooks/async';\n\n\nconst App: React.FC = () => {\n  const { getUserInfoAction } = AuthStore.useStore();\n  const { pending, run } = useRequest(getUserInfoAction, {});\n\n  useEffect(() => {\n    run();\n  }, []);\n\n  return (\n    <ErrorBoundary>\n      {\n        pending\n          ? <div className=\"common_page_placeholder\">loading ...</div>\n          : <MyRouter />\n      }\n    </ErrorBoundary>\n  );\n}\n\nexport default withStoreProviders(App, [AuthStore]);\n","// ---------------------------------------- css ----------------------------------------\nimport '@/assets/styles/index.less';\n\n// ---------------------------------------- main ----------------------------------------\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport FastClick from 'fastclick';\nimport { message as messageAlert } from 'antd';\n\n// ---------------------------------------- 其他 ----------------------------------------\nimport { APP_ROOT_ID } from '@/constants';\nimport { isDev } from \"@/config\";\nimport App from '@/App';\nimport Token from '@/auth/token';\n\n// ---------------------------------------- 错误处理 ----------------------------------------\nwindow.onerror = (event: Event | string, source?: string, fileno?: number, columnNumber?: number, error?: Error) => {\n  const error_data = {\n    title: document.getElementsByTagName('title')[0].innerText,\n    error_event: event,\n    script_url: source,\n    line_number: fileno,\n    column_number: columnNumber,\n    error_detail: (error && error.message) || '',\n    error_stack: (error && error.stack) || '',\n    user_agent: window.navigator.userAgent,\n    location_href: window.location.href,\n    token: Token.get(),\n  };\n  const event_string = String(error_data.error_event || '');\n\n  if (event_string === 'ResizeObserver loop limit exceeded') { return; }\n\n  const SCRIPT_ERROR = 'Unexpected token <'; // 脚本错误 (一般是服务器中的前端代码更新了，浏览器缓存中的 js 代码由于不一致而报错)\n  const CHUNK_ERROR = 'chunk';\n\n  if (event_string.indexOf(SCRIPT_ERROR) !== -1 || event_string.indexOf(CHUNK_ERROR) !== -1) {\n    messageAlert.warning('发现新版本，请使用刷新网页');\n  }\n};\n\n// ---------------------------------------- 挂载 ----------------------------------------\n(FastClick as any).attach(document.body);\n\n// ---------------------------------------- token ----------------------------------------\nwindow.addEventListener('storage', (ev: StorageEvent) => {\n  const key = ev.key;\n  const val = ev.newValue;\n\n  if (key === Token.key && val === null) { Token.clean(); }\n});\n\n// logout 时的 callback\nToken.logoutCallback = () => {\n  window.localStorage.clear();\n  window.sessionStorage.clear();\n}\n\n// ======================================= RENDER =======================================\nfunction createApp() {\n  return (\n    <App />\n  );\n}\n\nfunction render() {\n  ReactDOM.render(\n    createApp(),\n    document.getElementById(APP_ROOT_ID),\n  );\n}\n\nif (isDev()) {\n  // DEVELOPMENT\n  const devRender = () => {\n    if ((module as any).hot) {\n      (module as any).hot.accept('./App', () => render());\n    }\n\n    render();\n  }\n\n  try {\n    devRender();\n  } catch (error) {\n    console.error(error);\n    render();\n  }\n} else {\n  // PRODUCTION\n  render();\n}\n","export * from './type';\r\nexport * from './with';\r\nexport * from './store';","\r\n/** 判断是否为 promise */\r\nexport function isPromise(val: any) {\r\n  return val && typeof val.then === 'function';\r\n}\r\n\r\n/** 判断是否未 undefined */\r\nexport function isUndefined(val: any): boolean {\r\n  return val === void 0;\r\n}","/** react 挂载的 dom root id */\r\nexport const APP_ROOT_ID = 'root';","\nexport const PAGE_NAMES = [\n  {\n    name: 'resource',\n  },\n  {\n    name: 'coach',\n  },\n  {\n    name: 'guide',\n  },\n  {\n    name: 'wrong',\n  },\n  {\n    name: 'classroom',\n  },\n  {\n    name: 'work',\n  },\n  {\n    name: 'statistics',\n  },\n  {\n    name: 'questions',\n  },\n  {\n    name: 'exam',\n  },\n];\n","// 用户相关常量\n\n// 用户类型\nexport enum USER_TYPE {\n  SUPER_ADMIN = 0, // 超级管理员\n  ADMIN = 1,       // 学校管理员\n  TEACHER = 2,     // 教师\n  STUDENT = 3,     // 学生\n}\n\n/**\n * 角色类型\n * - 1: 教师 TEACHER\n * - 2: 班主任 HEAD_TEACHER\n * - 3: 学生 STUDENTS\n * - 4: 校长 PRINCIPAL\n * - 5: 年级主任 GRADE_DIRECTOR\n * - 6: 科目组长 SUBJECT_LEADER\n */\nexport enum ROLE_TYPE {\n  TEACHER = 1,\n  HEAD_TEACHER = 2,\n  STUDENTS = 3,\n  PRINCIPAL = 4,\n  GRADE_DIRECTOR = 5,\n  SUBJECT_LEADER = 6,\n}\n\n// 是否为默认角色\nexport enum ROLE_STATUS {\n  IS = 1,\n  NO = 0,\n}\n","export * from './app';\nexport * from './pages';\nexport * from './user';\n","module.exports = main_library;","// 权限模块\ninterface AuthorityConstructorOptions {\n  /** 是否 mock 权限 (会得到所有权限) */\n  mock: boolean\n}\n\nclass Authority {\n\n  private static _instance: Authority | null = null;\n\n  public static instance(opt?: AuthorityConstructorOptions): Authority {\n    if (this._instance === null) {\n      this._instance = new this(opt || {});\n    }\n\n    return this._instance!;\n  }\n\n  /** 不判断权限 (用于调试) */\n  private mock: boolean;\n\n  constructor({\n   mock = false,\n  }: Partial<AuthorityConstructorOptions>) {\n    this.mock = mock;\n  }\n\n  /** 是否已加载过权限 */\n  public loaded = false;\n  /** 权限表 */\n  public authStore: string[] = [];\n\n  /** 加载权限 */\n  public load(authArr: string[] = []) {\n    if (this.loaded) {\n      return;\n    }\n\n    this.authStore = authArr;\n    this.loaded = true;\n  }\n\n  /** 加载权限 (map 形式) */\n  public loadMap(authMap: AW.UserAuthMapType = {}) {\n    if (this.loaded) {\n      return;\n    }\n\n    let authArr: string[] = [];\n    for (const key in authMap) {\n      if (authMap.hasOwnProperty(key)) {\n        const item = authMap[key];\n        authArr.push(key);\n        authArr = authArr.concat(item);\n      }\n    }\n\n    this.load(authArr);\n  }\n\n  /** 重新加载权限 */\n  public reload(authArr: string[] = []) {\n    this.authStore = authArr;\n    this.loaded = true;\n  }\n\n  /** 检查权限 */\n  public check(auth: string): boolean {\n    if (!this.loaded) {\n      throw new Error('Authority: 还未加载权限数据');\n    }\n\n    if (this.mock) { return true; }\n\n    if (!this.authStore.length) {\n      return false;\n    }\n\n    return this.authStore.indexOf(auth) !== -1;\n  }\n\n  /**\n   * 检查权限\n   * strict: true，auths 中必须全部存在才通过，否则一个通过即可\n   */\n  public checkAll(auths: string[], strict = true): boolean {\n    if (strict) {\n      return auths.every((a) => this.check(a));\n    }\n\n    return auths.some((a) => this.check(a));\n  }\n\n}\n\nconst instance = Authority.instance({\n  mock: false,\n});\n\nexport default instance;\n\n(window as any).__Authority__ = instance;\n","// base layout 的一些状态\nimport { useSetState, UseSetState } from \"react-hanger\";\n\nimport { BaseValue, createStore } from '@/tools/aw/aw-store';\n\nexport interface BreadcrumbsType {\n  name: string\n  routeName?: string\n  handler?: (b: BreadcrumbsType) => void\n}\n\ninterface State {\n  readonly breadcrumbs: Readonly<BreadcrumbsType[]> // 面包屑\n}\n\nconst initialState: State = {\n  breadcrumbs: [],\n};\n\nexport interface BaseLayoutValue extends BaseValue<State> {\n  // actions\n  setBreadcrumbsAction: (breadcrumbs: BreadcrumbsType[]) => void\n\n  // getters\n}\n\n/** 设置 layout 的面包屑 */\nfunction setBreadcrumbsAction(state: UseSetState<State>) {\n  return (breadcrumbs: BreadcrumbsType[]) => {\n    state.setState({\n      breadcrumbs,\n    });\n  }\n}\n\nfunction useBaseLayout(): BaseLayoutValue {\n  const state = useSetState<State>(initialState);\n\n  return {\n    state: state.state,\n\n    // actions\n    setBreadcrumbsAction: setBreadcrumbsAction(state),\n  };\n}\n\nexport default createStore(useBaseLayout);\n","const SEPARATOR = '$META|META$';\n// 不验证是否过期的过期时间设置\nexport const NO_VALIDATE_EXPIRE = 0;\n\ntype CheckExpireFunc = (expire: number) => boolean; // return true，表示过期了\n\ninterface MetaType {\n  updateTime: number; // 修改时的时间戳\n  expire: number;     // 过期时间 (毫秒)\n}\n\nexport interface AWStorageConstructorOptions {\n  enableLog: boolean\n  disabled: boolean\n  prefix: string\n  session: boolean\n  hasMeta: boolean\n  expire: number\n  checkExpire?: CheckExpireFunc\n}\n\nclass AWStorage {\n\n  /** 是否禁用缓存 */\n  private disabled: boolean;\n  /** 开启 log */\n  private enableLog: boolean;\n  /** 前缀 */\n  private prefix: string;\n  /** 是否使用 sessionStorage 存储 (默认使用 localStorage 存储) */\n  private session: boolean\n  /** 是否有 meta 信息 */\n  private hasMeta: boolean\n  /** 过期时间: 单位毫秒 (0 为不过期) */\n  private expire: number; // 一分钟为 1000 * 60，一小时为 1000 * 60 * 60\n  /** 判断是否过期的函数 (会和 expire 一块使用) */\n  private checkExpire?: CheckExpireFunc;\n\n  constructor({\n    disabled = false,\n    enableLog = false,\n    prefix = '',\n    session = false,\n    expire = 0,\n    hasMeta = true,\n    checkExpire,\n  }: Partial<AWStorageConstructorOptions>) {\n    this.disabled = disabled;\n    this.enableLog = enableLog;\n    this.prefix = prefix;\n    this.session = session;\n    this.hasMeta = hasMeta;\n    this.expire = expire;\n    this.checkExpire = checkExpire;\n  }\n\n  private log(key: string, action: string, msg: string = '') {\n    if (!this.enableLog) {\n      return;\n    }\n\n    console.log('AWStorage-' + action + '' + key, msg);\n  }\n\n  private getStorage(): Storage {\n    if (!window.sessionStorage || !window.localStorage) {\n      throw new Error('该浏览器不支持本地存储');\n    }\n    return this.session ? window.sessionStorage : window.localStorage;\n  }\n\n  /** 获取 key */\n  private getKey(key: string): string {\n    if (!this.prefix) {\n      return key;\n    }\n\n    return this.prefix + key;\n  }\n\n  /** 创建 meta 信息 */\n  private createMeta(): string {\n    const defaultMeta: MetaType = {\n      updateTime: (new Date()).getTime(),\n      expire: this.expire,\n    }\n\n    return JSON.stringify(defaultMeta);\n  }\n\n  /** 是否过期 false=未过期 */\n  private isExpired(meta: MetaType): boolean {\n    // 没有过期信息\n    if (!meta.expire || !meta.updateTime || meta.expire === NO_VALIDATE_EXPIRE) { return false; }\n    // 执行配置的验证函数\n    if (this.checkExpire && this.checkExpire(meta.expire)) { return true; }\n    // 验证是否过期\n    const now = (new Date()).getTime();\n    const time = now - meta.updateTime;\n    return time >= meta.expire;\n  }\n\n  /** 获取 meta 信息，并且返回真正的 value */\n  private parseMetaAndReturnRealValue(key: string): string | null {\n    const rawValue = this.getStorage().getItem(this.getKey(key)) || '';\n    const valueArr = rawValue.split(SEPARATOR);\n    // 没有 meta 信息\n    if (valueArr.length === 1) { return rawValue; }\n\n    const metaString = valueArr[0];\n    const realValue = valueArr[1];\n\n    if (!realValue) { return null; }\n    try {\n      const metaObj: MetaType = JSON.parse(metaString);\n      // meta 信息验证\n      // 1. 是否过期\n      if (this.isExpired(metaObj)) {\n        this.remove(key);\n        return null;\n      }\n\n      return realValue;\n    } catch (err) {\n      console.warn(err);\n      return null;\n    }\n  }\n\n  private setItem(key: string, val: string) {\n    if (this.disabled) { return; }\n    if (this.hasMeta) {\n      const meta = this.createMeta();\n      const value = meta + SEPARATOR + String(val);\n      this.getStorage().setItem(this.getKey(key), value);\n    } else {\n      this.getStorage().setItem(this.getKey(key), String(val));\n    }\n\n    this.log(key, 'SET');\n  }\n\n  /** 返回空字符串 (表示没获取到) */\n  private getItem(key: string): string | null {\n    if (this.disabled) { return null; }\n    let value: string | null = '';\n    if (this.hasMeta) {\n      value = this.parseMetaAndReturnRealValue(key);\n    } else {\n      value = this.getStorage().getItem(this.getKey(key)) || '';\n    }\n\n    this.log(key, 'GET');\n    return value || '';\n  }\n\n  // ------------------- storeage -------------------\n  /** 设置 string */\n  public setString(key: string, val: string) {\n    this.setItem(key, val);\n  }\n\n  /** 获取 string */\n  public getString(key: string): string | null {\n    return this.getItem(key);\n  }\n\n  /** 设置 number */\n  public setNumber(key: string, val: number) {\n    this.setItem(key, String(val));\n  }\n\n  /** 获取 number */\n  public getNumber(key: string): number | null {\n    const value = this.getItem(key);\n    return value === null ? null : Number(value);\n  }\n\n  /** 设置 json */\n  public setJson(key: string, val: any, middleware?: (_: string) => string): boolean {\n    try {\n      const data = JSON.stringify(val);\n      const dealData = middleware ? middleware(data) : data;\n\n      this.setItem(key, dealData);\n      return true;\n    } catch (err) {\n      console.warn(err);\n      return false;\n    }\n  }\n\n  /** 获取 json */\n  public getJson(key: string, middleware?: (_: string) => string): object | any[] | null {\n    const data = this.getItem(key);\n    if (!data) { return null; }\n    const dealData = middleware ? middleware(data) : data;\n\n    try {\n      return dealData !== '' ? JSON.parse(dealData) : null;\n    } catch (err) {\n      console.warn(err);\n      return null;\n    }\n  }\n\n  /** 删除 */\n  public remove(...keys: string[]): boolean {\n    if (!keys || !keys.length) { return false; }\n\n    (keys).forEach((key) => this.getStorage().removeItem(this.getKey(key)));\n    return true;\n  }\n\n}\n\nexport default AWStorage;\n","import AWStorage, { AWStorageConstructorOptions, NO_VALIDATE_EXPIRE } from '@/tools/aw/aw-storage';\nimport { LOCALSTROAGE_PREFIX, DISABLED_EXPIRE } from '@/config';\n\nconst AWStorageFactory = ({\n  enableLog = false,\n  disabled = false,\n  prefix = LOCALSTROAGE_PREFIX,\n  session = false,\n  hasMeta = true,\n  expire = NO_VALIDATE_EXPIRE,\n  // 当 expire 设置为 DISABLED_EXPIRE，则相当于永远都是过期的 (禁用缓存)\n  checkExpire = (e) => e === DISABLED_EXPIRE,\n}: Partial<AWStorageConstructorOptions>) => {\n  return new AWStorage({\n    enableLog,\n    disabled,\n    session,\n    prefix,\n    hasMeta,\n    expire,\n    checkExpire,\n  });\n};\n\nexport default AWStorageFactory;\n","import { AxiosRequestConfig } from 'axios';\r\n\r\nexport const URLENCODED_CONTENT_TYPE = {\r\n  'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',\r\n};\r\nexport const JSON_CONTENT_TYPE = {\r\n  'Content-Type': 'application/json;charset=UTF-8',\r\n};\r\nexport const CommonErrorMessage = '网络错误';\r\n\r\nexport interface MyAxiosRequestConfig extends AxiosRequestConfig {\r\n  json?: boolean     // 设置请求头为 JSON_CONTENT_TYPE\r\n  showErrorMessage?: boolean // 是否弹窗错误 message\r\n}\r\n\r\n/** 后端响应的数据格式 */\r\nexport interface APIResponseData<T = any> {\r\n  code: number\r\n  data: T\r\n  msg: string\r\n  token: string | null\r\n}\r\n\r\n/** services 整理后的数据格式 */\r\nexport interface CommonResponse<T = any> {\r\n  status: boolean\r\n  message: string\r\n  data: T\r\n}","// 成功\r\nexport const OK_CODE = 200;\r\n\r\n// 用户未登录\r\nexport const NO_LOGIN_CODE = 464;\r\n\r\n// 其他错误\r\nexport const OTHER_ERROR_CODES = [\r\n  599,  // 加载失败\r\n  532,  // 调用第三方错误\r\n  9999, // 服务不可用\r\n  -1,   // 未知错误\r\n];","import Axios, { AxiosResponse } from 'axios';\r\nimport qs from 'qs';\r\nimport { message } from 'antd';\r\n\r\nimport {\r\n  MyAxiosRequestConfig,\r\n  URLENCODED_CONTENT_TYPE,\r\n  JSON_CONTENT_TYPE,\r\n  APIResponseData,\r\n  CommonResponse,\r\n  CommonErrorMessage,\r\n} from './type';\r\nimport {\r\n  OK_CODE,\r\n  NO_LOGIN_CODE,\r\n  OTHER_ERROR_CODES,\r\n} from './code';\r\nimport Token from '@/auth/token';\r\n\r\nconst axios = Axios.create({\r\n  headers: URLENCODED_CONTENT_TYPE,\r\n});\r\n\r\n// request\r\naxios.interceptors.request.use(\r\n  (config: MyAxiosRequestConfig) => {\r\n    // 处理参数\r\n    if (!config.params) { config.params = {}; }\r\n    if (!config.data) { config.data = {}; }\r\n\r\n    const token = Token.get();\r\n    if (token) {\r\n      config.params.token = token; // query 上携带 token\r\n    }\r\n\r\n    if (!config.json) {\r\n      config.data = qs.stringify(config.data);\r\n    } else {\r\n      config.headers = Object.assign({}, (config.headers || {}), JSON_CONTENT_TYPE);\r\n    }\r\n    \r\n    return config;\r\n  },\r\n  (error: any) => {\r\n    message.error(error);\r\n    return Promise.reject(error);\r\n  },\r\n);\r\n\r\n// response\r\naxios.interceptors.response.use(\r\n  (response: AxiosResponse<APIResponseData>) => {\r\n    // 响应数据具体在 services 中处理\r\n    return response;\r\n  },\r\n  (error: any) => {\r\n    message.error(error);\r\n    return Promise.reject(error);\r\n  },\r\n);\r\n\r\nclass Services {\r\n  private static _instance: Services | null = null;\r\n\r\n  public static instance(): Services {\r\n    if (this._instance === null) {\r\n      this._instance = new this();\r\n    }\r\n\r\n    return this._instance!;\r\n  }\r\n\r\n  private errorResponseData(config: MyAxiosRequestConfig, result?: APIResponseData): CommonResponse<any> {\r\n    const msg = (result && result.msg) ? result.msg : CommonErrorMessage;\r\n\r\n    if (config.showErrorMessage) {\r\n      message.error(msg);\r\n    }\r\n\r\n    return {\r\n      status: false,\r\n      message: msg,\r\n      data: result ? result.data : null,\r\n    } \r\n  }\r\n\r\n  private responseData<T>(config: MyAxiosRequestConfig, result: APIResponseData<T>): CommonResponse<T> {\r\n    const statusCode = Number(result.code);\r\n\r\n    // 如有携带 token，存储\r\n    if (result.token) {\r\n      Token.set(result.token);\r\n    }\r\n\r\n    // 请求成功\r\n    if (statusCode === OK_CODE) {\r\n      return {\r\n        status: true,\r\n        message: result.msg || '成功',\r\n        data: result.data,\r\n      };\r\n    }\r\n\r\n    // 请求失败 (code 处理)\r\n    if (statusCode === NO_LOGIN_CODE) {\r\n      Token.logout({\r\n        triggerGlobalCallback: true,\r\n        reloadPage: true,\r\n      });\r\n\r\n      return this.errorResponseData(config);\r\n    }\r\n\r\n    if (OTHER_ERROR_CODES.indexOf(statusCode) !== -1) {\r\n      return this.errorResponseData(config, result);\r\n    }\r\n\r\n    return this.errorResponseData(config, result);\r\n  }\r\n\r\n  private async request<T>(config: MyAxiosRequestConfig): Promise<CommonResponse<T | null>> {\r\n    try {\r\n      const resp: AxiosResponse<APIResponseData<T>> = await axios(config);\r\n\r\n      return this.responseData<T>(config, resp.data);\r\n    } catch(err) {\r\n      console.warn(err);\r\n      return this.errorResponseData(config);\r\n    }\r\n  }\r\n\r\n  public async get<T>(config: MyAxiosRequestConfig): Promise<CommonResponse<T | null>> {\r\n    return this.request<T>(\r\n      Object.assign({}, config, {method: 'GET'})\r\n    );\r\n  }\r\n\r\n  public async post<T>(config: MyAxiosRequestConfig): Promise<CommonResponse<T | null>> {\r\n    return this.request<T>(\r\n      Object.assign({json: false}, config, {method: 'POST' })\r\n    );\r\n  }\r\n}\r\n\r\nexport default Services.instance();\r\n\r\n(window as any).__Services__ = Services.instance();\r\n","import Services from '@/services/base';\r\nimport { CommonResponse } from '@/services/type';\r\nimport { AUTH_API_ROOT } from '@/config';\r\n\r\ninterface LoginParams {\r\n  username: string\r\n  password: string\r\n}\r\n\r\nexport default class {\r\n\r\n  private static authAPI(api: string) {\r\n    return AUTH_API_ROOT + api;\r\n  };\r\n\r\n  /** 登录 */\r\n  public static async login({username, password}: LoginParams): Promise<CommonResponse<AW.AuthAPIResponseType | null>> {\r\n    const resp = await Services.get<AW.AuthAPIResponseType>({\r\n      url: this.authAPI('/efficiencyLogin'),\r\n      params: { username, password },\r\n      showErrorMessage: false,\r\n    })\r\n\r\n    return resp;\r\n  }\r\n\r\n  /** 获取用户信息 */\r\n  public static async getUserInfo(): Promise<CommonResponse<AW.UserEntityAndTermInfoType | null>> {\r\n    const resp = await Services.get<AW.UserEntityAndTermInfoType>({\r\n      url: this.authAPI('/api/user/efficiency-select-one'),\r\n    });\r\n\r\n    return resp;\r\n  }\r\n\r\n  /** 获取默认学期 */\r\n  public static async getDetaultTerm(): Promise<CommonResponse<AW.TermType>> {\r\n    const resp = await Services.get<any>({\r\n      url: this.authAPI('/api/term/get-default-terminfo'),\r\n    });\r\n\r\n    const _data = resp.data || {};\r\n    const data: AW.TermType = {\r\n      termid: _data.termid,\r\n      termname: _data.yearname + '学年' + _data.termname,\r\n    };\r\n\r\n    return {\r\n      status: resp.status,\r\n      message: resp.message,\r\n      data,\r\n    };\r\n  }\r\n\r\n}\r\n","/** 学期 */\nimport AWStorage from '@/tools/aw/aw-storage';\nimport createStorage from '@/storage/base';\n\nclass TermStorage {\n\n  private static _instance: TermStorage | null = null;\n  private storage: AWStorage;\n\n  public static instance(): TermStorage {\n    if (this._instance === null) {\n      this._instance = new this();\n    }\n\n    return this._instance!;\n  }\n\n  constructor() {\n    this.storage = createStorage({\n      hasMeta: false,\n    });\n  }\n\n  public key = 'termid';\n\n  public clean() {\n    return this.storage.remove(this.key);\n  }\n\n  public get(): number | null {\n    return this.storage.getNumber(this.key);\n  }\n\n  public set(id: number) {\n    this.storage.setNumber(this.key, id);\n  }\n\n}\n\nexport default TermStorage.instance();\n\n(window as any).__TermStorage__ = TermStorage.instance();\n","/** 角色 */\nimport AWStorage from '@/tools/aw/aw-storage';\nimport createStorage from '@/storage/base';\n\ninterface RoleType {\n  roleid: number\n  roletype: number\n}\n\nclass RoleStorage {\n\n  private static _instance: RoleStorage | null = null;\n  private storage: AWStorage;\n\n  public static instance(): RoleStorage {\n    if (this._instance === null) {\n      this._instance = new this();\n    }\n\n    return this._instance!;\n  }\n\n  constructor() {\n    this.storage = createStorage({\n      hasMeta: false,\n    });\n  }\n\n  private roleStore: RoleType | null = null;\n  public key = 'role';\n\n  public clean() {\n    this.roleStore = null;\n    return this.storage.remove(this.key);\n  }\n\n  public get(): RoleType | null {\n    if (this.roleStore) {\n      return this.roleStore;\n    }\n\n    try {\n      const jsonString = this.storage.getString(this.key);\n      if (!jsonString) {\n        return null;\n      }\n      const data = JSON.parse(jsonString);\n      if (!data.roleid || !data.roletype) {\n        return null;\n      }\n      const roleData: RoleType = {\n        roleid: Number(data.roleid),\n        roletype: Number(data.roletype),\n      };\n      this.roleStore = roleData;\n\n      return roleData;\n    } catch(err) {\n      console.warn(err);\n      return null;\n    }\n  }\n\n  public set(role: RoleType) {\n    this.roleStore = role;\n    this.storage.setString(this.key, JSON.stringify(role));\n  }\n\n  public isTeacherRole(): boolean {\n    const role = this.get();\n    if (!role) {\n      return true; // 默认老师\n    }\n    // 1 为教师角色 (注意: 这里的 type 和用户 category 不一样，那个是判断学生老师管理员身份的)\n    return role.roletype === 1;\n  }\n\n}\n\nexport default RoleStorage.instance();\n\n(window as any).__RoleStorage__ = RoleStorage.instance();\n","// 用户相关 (登录登出、权限 ...)\nimport { useEffect } from \"react\";\nimport { useSetState, UseSetState } from \"react-hanger\";\n\nimport { BaseValue, createStore } from '@/tools/aw/aw-store';\nimport { CommonResponse } from '@/services/type';\n\nimport { USER_TYPE, ROLE_STATUS } from '@/constants';\nimport Authority from '@/auth/authority';\nimport Token from \"@/auth/token\";\n\nimport UserServices from '@/services/user';\nimport TermStorage from \"@/storage/term\";\nimport RoleStorage from \"@/storage/role\";\n\n\ninterface State {\n  readonly user: Readonly<AW.UserEntity | null> // 用户信息\n  readonly terms: Readonly<AW.TermType[]>       // 学期列表\n  readonly currentTerm: Readonly<AW.TermType | null> // 当前选择的学期\n  readonly currentRole: Readonly<AW.UserRoleType | null> // 当前角色\n}\n\nconst initialState: State = {\n  user: null,\n  terms: [],\n  currentTerm: null,\n  currentRole: null,\n}\n\ninterface AuthValue extends BaseValue<State> {\n  // actions\n  loginAction: (username: string, password: string) => Promise<CommonResponse>\n  getUserInfoAction: (force?: boolean) => Promise<CommonResponse>\n  logoutAction: () => void\n  setCurrentTermAction: (termid: number) => boolean\n  setCurrentRoleAction: (roleid: number) => boolean\n\n  // getters\n  authGetter: () => Readonly<string[]>\n  termsGetter: () => Readonly<AW.TermType[]>\n  isTeacherGetter: () => boolean\n  rolesGetter: () => AW.UserRoleType[]\n}\n\nfunction setUserToState(data: AW.UserEntityAndTermInfoType, state: UseSetState<State>) {\n  const user = data.userEntity || {};\n  const terms = data.termVos || [];\n\n  Authority.loadMap(user.acl || {});\n  state.setState({ user, terms });\n}\n\n/** 设置默认学期 */\nasync function setDefaultTerm(state: UseSetState<State>, defaultTermID?: number) {\n  const terms = state.state.terms || [];\n  if (!terms.length) {\n    TermStorage.clean();\n    return;\n  }\n\n  const localTermID = TermStorage.get();\n  if (localTermID) {\n    const localTerm = terms.find((t) => t.termid === localTermID);\n    if (localTerm) {\n      setCurrentTermAction(state)(localTerm.termid);\n      return;\n    }\n  }\n\n  if (defaultTermID) {\n    const defaultTerm = terms.find((t) => t.termid === defaultTermID);\n    if (defaultTerm) {\n      setCurrentTermAction(state)(defaultTerm.termid);\n      return;\n    }\n  }\n\n  // localstroage 和 default 没有则发送请求获取\n  const term = await UserServices.getDetaultTerm();\n  setCurrentTermAction(state)(term.data.termid);\n}\n\n/** 设置默认角色 */\nfunction setDefaultRole(state: UseSetState<State>) {\n  const setRole = (roleid: number): boolean => {\n    const inList = roles.find((r) => r.roleid === roleid);\n    if (inList) {\n      setCurrentRoleAction(state)(roleid);\n      return true;\n    }\n\n    return false;\n  }\n\n  if (!state.state.user) {\n    return;\n  }\n\n  const roles = state.state.user.aclrole || [];\n  if (!roles.length) {\n    RoleStorage.clean();\n    return;\n  }\n\n  const localRole = RoleStorage.get();\n  if (localRole) {\n    if (setRole(localRole.roleid)) {\n      return;\n    }\n  }\n\n  const defaultRole = roles.find((r) => r.activestatus === ROLE_STATUS.IS);\n  if (defaultRole) {\n    if (setRole(defaultRole.roleid)) {\n      return;\n    }\n  }\n\n  const firstRole = roles[0];\n  if (firstRole) {\n    setRole(firstRole.roleid);\n  }\n}\n\n/** 设置学期 */\nfunction setCurrentTermAction(state: UseSetState<State>) {\n  return (termid: number): boolean => {\n    if (state.state.currentTerm && state.state.currentTerm.termid === termid) {\n      return false;\n    }\n    const term = state.state.terms.find((t) => t.termid === termid);\n\n    if (!term) { return false; }\n    state.setState({ currentTerm: term });\n    TermStorage.set(term.termid);\n    return true;\n  };\n}\n\n/** 设置角色 */\nfunction setCurrentRoleAction(state: UseSetState<State>) {\n  return (roleid: number): boolean => {\n    if (!state.state.user) {\n      return false;\n    }\n    if (state.state.currentRole && state.state.currentRole.roleid === roleid) {\n      return false;\n    }\n\n    const roles = state.state.user.aclrole || [];\n    const role = roles.find((r) => r.roleid === roleid);\n    if (!role) { return false; }\n    state.setState({ currentRole: role });\n    RoleStorage.set({\n      roleid: role.roleid,\n      roletype: role.type,\n    });\n    return true;\n  };\n}\n\n/** 登录 */\nfunction loginAction(state: UseSetState<State>) {\n  return async (username: string, password: string): Promise<CommonResponse> => {\n    // 记录登录信息的 token 统一在 services request 方法中做了记录\n    const result = await UserServices.login({\n      username: username.trim(),\n      password: password.trim(),\n    });\n\n    if (result.status && result.data) {\n      setUserToState(result.data, state);\n    }\n\n    return result;\n  }\n}\n\n/** 获取用户信息 */\nfunction getUserInfoAction(state: UseSetState<State>) {\n  // force: 覆盖用户数据\n  return async (force = false): Promise<CommonResponse> => {\n    if (!Token.isLogin()) {\n      return { status: false, message: '用户未登录', data: null };\n    }\n\n    if (!force && state.state.user) {\n      return { status: true, message: '成功', data: state.state.user };\n    }\n\n    // 记录登录信息的 token 统一在 services request 方法中做了记录\n    const result = await UserServices.getUserInfo();\n\n    if (result.status && result.data) {\n      setUserToState(result.data, state);\n    }\n\n    return result;\n  }\n}\n\n/** 登出 */\nfunction logoutAction({ setState }: UseSetState<State>) {\n  return () => {\n    setState({\n      ...initialState,\n    });\n    Token.logout({\n      triggerGlobalCallback: true,\n      reloadPage: true,\n    });\n  }\n}\n\nfunction useAuth(): AuthValue {\n  const state = useSetState<State>(initialState);\n\n  useEffect(() => {\n    setDefaultTerm(state);\n  }, [state.state.terms]);\n\n  useEffect(() => {\n    setDefaultRole(state);\n  }, [state.state.user]);\n\n  return {\n    state: state.state,\n\n    // actions\n    loginAction: loginAction(state),\n    getUserInfoAction: getUserInfoAction(state),\n    logoutAction: logoutAction(state),\n    setCurrentTermAction: setCurrentTermAction(state),\n    setCurrentRoleAction: setCurrentRoleAction(state),\n\n    // getters\n    /** 获取权限 table */\n    authGetter: () => Authority.authStore || [],\n    /** 获取学期数据 */\n    termsGetter: () => state.state.terms || [],\n    /** 是否为老师 */\n    isTeacherGetter: () => state.state.user ? state.state.user.category === USER_TYPE.TEACHER : false,\n    /** 角色列表 */\n    rolesGetter: () => {\n      const info = state.state.user;\n      if (!info) { return []; }\n\n      return info.aclrole || [];\n    },\n  }\n}\n\nexport default createStore(useAuth);\n","module.exports = (__webpack_require__(40))(427);","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEkAAAAmCAYAAACI0bZTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQyIDc5LjE2MDkyNCwgMjAxNy8wNy8xMy0wMTowNjozOSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpENkMxM0IyRDczOTUxMUU4ODA0MkZDRUUwNjhGQkM5MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpENkMxM0IyRTczOTUxMUU4ODA0MkZDRUUwNjhGQkM5MyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkQ2QzEzQjJCNzM5NTExRTg4MDQyRkNFRTA2OEZCQzkzIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkQ2QzEzQjJDNzM5NTExRTg4MDQyRkNFRTA2OEZCQzkzIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Wu5wuwAABntJREFUeNrcmmlsVFUU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\""],"sourceRoot":""}